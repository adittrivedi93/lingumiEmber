var bablic=window.bablic||window._bab||{};!function(){function getLocaleByURL(a,b,c,d,e,f,g){switch(b){case"querystring":if(a.query&&"object"==typeof a.query)return a.query.locale;var h=/locale=([^&]+)/.exec(a.query||"");return h&&2==h.length&&h[1]?h[1]:d||f||e;case"subdomain":var i=g?"_":"\\.",h=RegExp("(?:www"+i+")?(?:(\\w\\w(?:_\\w\\w)?)"+i+")?").exec(a.hostname);return h.length>1&&h[1]?h[1]:e;case"subdir":var j=a.pathname,k=SUB_DIR.exec(j);return k?k[2]:d||f||e;case"tld":var h=/\.(\w\w)$/.exec(a.hostname);return h&&h.length>1&&h[1]?h[1]:null;case"custom":var l=function(a,b){return RegExp((b?"":"^")+(a+"").replace(/([.?+^$[\]\\(){}|-])/g,"\\$1").replace(/\*/g,".*")+(b?"":"$"),"i")};for(var m in c){var n=c[m];if(n&&l(n,!0).test(a.href))return m}return e;case"hash":var h=/^#!locale=(\w\w(?:_\w\w)?)$/.exec(a.hash||"");return h&&h.length>1&&h[1]?h[1]:d||f||e;default:return d}}function normalizePath(a,b,c,d,e,f,g){if(e)return"/";if(d||(a=a.split("#")[0]),"subdir"==b){var h=SUB_DIR.exec(a);h&&f.indexOf(h[2])>-1&&(a=a.substr(h[1].length))}if(0==a.length&&(a="/"),c&&g&&g.length){var i=a.split("#")[0].split("?")[1];if(i){for(var j=i.split("&"),k=[],l=0;l<j.length;l++){var m=j[l].split("=");"locale"!=m[0]&&k.push([decodeURIComponent(m[0]),m[1]&&decodeURIComponent(m[1])])}k=k.filter(function(a){return g&&g.indexOf(a[0])>-1}),k.sort(function(a,b){return a[0]==b[0]?0:a[0]>b[0]?1:-1}),i="?"+k.map(function(a){return encodeURIComponent(a[0])+"="+encodeURIComponent(a[1])}).join("&");var n=a.split("#")[1];a=a.split("?")[0]+i+(n?"#"+n:"")}}else a=a.split("?")[0];return a}function encodeObject(a,b){if(null===b||void 0===b)return 0;if(null===a)return b;if("object"!=typeof a){var c=BEnumRegex.exec(a);if(c){var d=JSON.parse(c[1]);for(var e in d)if(d[e]==b)return Number(e);return 0}return"Boolean"==a?b?1:0:b}if("__obj__"==a[0]){for(var f=[],g=1;g<a.length;g++){var h=a[g];f.push(encodeObject(h[1],b[h[0]]))}return f}for(var i=[],j=0;j<b.length;j++)i.push(encodeObject(a[0],b[j]));return i}function decodeObject(a,b){if(0===b&&"Number"!=a&&(b=null),null===a)return b;if("object"!=typeof a){var c=BEnumRegex.exec(a);if(c){var d=JSON.parse(c[1]);return d[b]||d[0]}return"Boolean"===a?!!b:b}if(!b)return{};var e;if("__obj__"==a[0]){e={};for(var f=1;f<a.length;f++){var g=a[f];e[g[0]]=decodeObject(g[1],b[f-1])}return e}e=[];for(var h=0;h<b.length;h++)e[h]=decodeObject(a[0],b[h]);return e}function encodeWithVersion(a,b,c){var d=encodeObject(b,a);return d.push(["_v",c]),d}function decodeWithVersion(a,b,c){var d=a[a.length-1];if("_v"!=d[0])return null;if(d[1]!=c)return null;a.pop();var e=decodeObject(b,a);return a.push(d),e}if(bablic.Mutation){if(bablic.isActivated=!0,console.log("Bablic already loaded"),parent&&parent.editor&&parent.editor.snippetDetected)parent.editor.snippetDetected();else if(bablic.preview)var interval=setInterval(function(){var a=Array.prototype.filter.call(window.frames||[],function(a){try{return a&&a.editor&&a.editor.snippetDetected}catch(b){return!1}})[0];a&&(clearInterval(interval),a.editor.snippetDetected())},300)}else{var WIN=window,DOC=document,LOC=location,PROXY=bablic.proxy=/pipe(\.staging)?\.bablic\.com$/.test(location.hostname),strundefined="undefined";try{DOC.getElementById("BABLIC_CHECK")&&(bablic.preview=!0),top&&top!=window&&top.editor&&(bablic.preview=!0)}catch(e){}bablic=window.bablic||{},bablic.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(v.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+x.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+y.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;e>d;d++)A[c[d]]=c[d]in u;return A.list&&(A.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),A}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "))}var l,m,n="2.8.3",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",x=w.split(" "),y=w.toLowerCase().split(" "),z={},A={},B=[],C=B.slice,D=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},E=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),F={}.hasOwnProperty;m=f(F,"undefined")||f(F.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return F.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=C.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(C.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(C.call(arguments)))};return d}),z.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:D(["@media (",v.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},z.indexedDB=function(){return!!j("indexedDB",a)},z.hashchange=function(){return E("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},z.history=function(){return!!a.history&&!!history.pushState},z.backgroundsize=function(){return j("backgroundSize")},z.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},z.cssanimations=function(){return j("animationName")},z.csstransforms=function(){return!!j("transform")},z.csstransitions=function(){return j("transition")},z.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}};for(var G in z)m(z,G)&&(l=G.toLowerCase(),o[l]=z[G](),B.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,o._version=n,o._prefixes=v,o._domPrefixes=y,o._cssomPrefixes=x,o.hasEvent=E,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=D,q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+B.join(" "):""),o}(this,this.document),window.Modernizr=window.Modernizr||bablic.Modernizr;var d=DOC,$;!function(){function a(a){return a.element?"number"==typeof a.element.length?a.element[0]:a.element:null}function b(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=y.length;e--;)if(b=y[e]+c,b in a)return b;return d}d.contains||(d.contains=function(a){do{if("HTML"==a.tagName)return!0;a=a.parentNode}while(a);return!1});var c,e=function(){},f=typeof HTMLCollection==strundefined?e:HTMLCollection,g=typeof NodeList==strundefined?e:NodeList;c=function(a,b){if(!(this instanceof c))return new c(a,b);if(a){var e;if("string"==typeof a)e="<"==a[0]?k(a):(b||d).querySelectorAll(a);else{if(a instanceof c)return a;a===WIN||window.Window&&a instanceof Window?e=[a]:(a.nodeType||Array.isArray(a)||a instanceof f||"HTMLCollection"==a.constructor.name||a instanceof g||a===d||"number"==typeof a.length)&&(e=a)}this.element=e}};var h=/^\s+/,i=/\s+$/,j=function(a){return a.trim?a.trim():a.replace(h,"").replace(i,"")},k=function(a){return l.innerHTML=j(a),l.childNodes[0]},l=d.createElement("div"),m=function(a,b){for(var c in b)a[c]=b[c]};c.extend=function(a,b){for(var c=1;c<arguments.length;c++)m(a,arguments[c]);return a},c.each=function(a,b){for(var c=0;c<a.length;c++)b(c,a[c]);return a},c.map=function(a,b){for(var c=new Array,d=0;d<a.length;d++){var e=b(a[d],d);null!==e&&(Array.isArray(e)?Array.prototype.push.apply(c,e):c.push(e))}return c},c.grep=function(a,b){for(var c=new Array,d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},c.isEmptyObject=function(a){return!a||0==Object.keys(a).length},c.isArray=function(a){return Array.isArray(a)},c.byTag=function(a,b){return new c((b||d).getElementsByTagName(a))},c.byId=function(a,b){return new c((b||d).getElementById(a))},c.byClass=function(a,b){return new c("."+a,b)},c.makeArray=function(a){return Array.prototype.slice.apply(a,[])},c.inArray=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0;c<b.length;c++)if(b[c]===a)return c;return-1},c.trim=j;var n=/^-ms-/,o=/-([\da-z])/gi,p=function(a,b){return b.toUpperCase()};c.camelCase=function(a){return a.replace(n,"ms-").replace(o,p)},c.window={width:function(){return WIN.innerWidth},height:function(){return WIN.innerHeight}};var q=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===strundefined&&(a[d]=null),a.detachEvent(d,c))},r=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=r(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=r(b);return c};c.prototype.length=function(){return this.element?"number"==typeof this.element.length?this.element.length:this.element?1:0:0},c.prototype.parent=function(){var b=a(this);if(!b)return new c;var d=b.parentElement;return new c(d)},c.prototype.hasParent=function(b){var c=a(this);if(!c)return!1;for(;c.parentNode;){if(s(c.parentNode,b))return!0;c=c.parentNode}return!1},c.prototype.parents=function(b){var c=[],d=a(this);if(!d)return c;for(;d.parentNode;)(!b||s(d.parentNode,b))&&c.push(d.parentNode),d=d.parentNode;return c},c.prototype.children=function(a){var b=[];return this.each(function(){var d=c.grep(this.childNodes,function(b){return 1==b.nodeType&&(!a||new c(b).is(a))});b=b.concat(d)}),new c(b)},c.prototype.attr=function(b,c){if(typeof c==strundefined){var d=a(this);return d?d.getAttribute(b):""}return this.each(function(){""===c?this.removeAttribute(b):this.setAttribute(b,c)}),this},c.prototype.get=function(a){return"number"==typeof this.element.length?this.element[a]:this.element},c.prototype.html=function(b){var c=a(this);return c?typeof b==strundefined?c.innerHTML:(c.innerHTML=b,this):this},c.prototype.each=function(a){if(!this.element)return this;if("number"==typeof this.element.length)for(var b=0;b<this.element.length;b++)a.apply(this.element[b],[b]);else a.apply(this.element,[0]);return this},c.prototype.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)}),this},c.prototype.appendTo=function(b){var d=new c(b),e=a(d);return e?(this.each(function(){e.appendChild(this)}),this):this},c.prototype.insertBefore=function(b){var d=new c(b),e=a(d);if(!e)return this;var f=e.parentNode;return f?(this.each(function(){f.insertBefore(this,e)}),this):this},c.prototype.append=function(b){var d=new c(b),e=a(d);if(!e)return this;var f=a(this);return f?(f.appendChild(e),this):this},c.prototype.on=function(a,b){return this.each(function(){this.addEventListener?this.addEventListener(a,b,!1):this.attachEvent&&this.attachEvent("on"+a,b)}),this},c.prototype.off=function(a,b){return this.each(function(){q(this,a,b)}),this},c.prototype.width=function(){var b=a(this);return b?b.clientWidth:0},c.prototype.height=function(){var b=a(this);return b?b.clientHeight:0},c.prototype.is=function(b){var c=a(this);return c?s(c,b):!1};var s=function(a,b){return a.matches=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector,a.matches?a.matches(b):!1};c.prototype.toArray=function(){return this.element?"number"==typeof this.element.length?Array.isArray(this.element)?this.element:c.makeArray(this.element):[this.element]:[]},c.prototype.addClass=function(a){return this.each(function(){for(var b=this.className,c=b.split(" "),d={},e=0;e<c.length;e++){var f=j(c[e]);d[f]=!0}d[a]=!0,this.className=Object.keys(d).join(" ")}),this},c.prototype.removeClass=function(a){return this.each(function(){for(var b=this.className,c=b.split(" "),d={},e=0;e<c.length;e++){var f=j(c[e]);d[f]=!0}delete d[a],this.className=Object.keys(d).join(" ")}),this};var t,u,v=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=(new RegExp("^("+v+")(.*)$","i"),new RegExp("^([+-])=("+v+")","i")),x={letterSpacing:"0",fontWeight:"400"},y=["Webkit","O","Moz","ms"],z=/^(top|right|bottom|left)$/,A=/^margin/,B=new RegExp("^("+v+")(?!px)[a-z%]+$","i");WIN.getComputedStyle?(t=function(a){return a.ownerDocument.defaultView.opener?a.ownerDocument.defaultView.getComputedStyle(a,null):WIN.getComputedStyle(a,null)},u=function(a,b,d){var e,f,g,h,i=a.style;return d=d||t(a),h=d?d.getPropertyValue(b)||d[b]:void 0,d&&(""===h&&(h=c.style(a,b)),B.test(h)&&A.test(b)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=h,h=d.width,i.width=e,i.minWidth=f,i.maxWidth=g)),void 0===h?h:h+""}):d.documentElement.currentStyle&&(t=function(a){return a.currentStyle},u=function(a,b,c){var d,e,f,g,h=a.style;return c=c||t(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),B.test(g)&&!z.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"}),m(c,{cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,d,e,f){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,h,i=c.camelCase(d),j=a.style;return d=c.cssProps[i]||(c.cssProps[i]=b(j,i)),void 0===e?j[d]:(h=typeof e,"string"===h&&(g=w.exec(e))&&(e=(g[1]+1)*g[2]+parseFloat(c.css(a,d)),h="number"),null!=e&&e===e&&("number"!==h||c.cssNumber[i]||(e+="px"),""===e&&0===d.indexOf("background")&&(j[d]="inherit"),j[d]=e),void 0)}},css:function(a,d,e,f){var g,h,i=c.camelCase(d);return d=c.cssProps[i]||(c.cssProps[i]=b(a.style,i)),void 0===h&&(h=u(a,d,f)),"normal"===h&&d in x&&(h=x[d]),""===e||e?(g=parseFloat(h),e===!0||c.isNumeric(g)?g||0:h):h}}),c.prototype.css=function(b,d){if(void 0===d){var e=a(this);return e?c.css(e,b):null}return this.each(function(){c.style(this,b,d)}),this},c.prototype.hide=function(){return this.css("display","none")},c.prototype.show=function(){return this.css("display","block")},c.prototype.text=function(){var b=a(this);return b?r(b):""},$=c,bablic.$=$}();var SUB_DIR=/^(\/(\w\w(_\w\w)?))(?:\/|$)/,BEnumRegex=/^BEnum\((.*?)\)/;try{"object"==typeof module&&(exports.getLocaleByURL=getLocaleByURL,exports.normalizePath=normalizePath,exports.encodeObject=encodeObject,exports.encodeWithVersion=encodeWithVersion,exports.decodeObject=decodeObject,exports.decodeWithVersion=decodeWithVersion,exports.decodeConf=decodeConf,exports.encodePing=encodePing)}catch(e){}var decodeConf,encodeConf,encodePing,decodeSnippetData;!function(){var a=["__obj__",["timestamp","Number"],["locale","String"],["orig","String"],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none"})'],["edit","Boolean"],["fallback","Boolean"],["ajaxWidget","Boolean"],["meta","Boolean"],["alt","Boolean"],["locales",[["__obj__",["legacy","Boolean"],["www","Boolean"],["dir",'BEnum({"0":"ltr","1":"rtl"})'],["url","String"],["key","String"],["name","String"],["flag","String"],["font","String"],["months",["String"]],["dateFormat","String"],["timeFormat","String"],["engines",["Number"]]]]],["widget",[["__obj__",["show","Boolean"],["embedded","String"],["logo","Boolean"],["size","Number"],["widgetType",'BEnum({"0":"labels","1":"flags","2":"letters"})'],["expanded","Boolean"],["position",["__obj__",["corner","Number"],["distance","Number"],["unit","String"]]],["colors",["String"]],["hideCurrent","Boolean"]]]],["bidi","Boolean"],["exclude","String"],["include","String"],["markup",null],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"]],b=1.1,c=["__obj__",["timestamp","Number"],["snippetTimestamp","Number"],["error","String"],["locale","String"],["original","String"],["didHide","Boolean"],["confTime","Number"],["translationTime","Number"],["hiddenTime","Number"],["detected","String"],["page","String"],["detectedLocale","String"],["hasLocalStorage","Boolean"],["hasIndexDB","Boolean"],["path","String"],["nonBlocking","Boolean"],["version","Number"],["parseVersion","Number"]],d={1:["__obj__",["timestamp","Number"],["original","String"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"]],2:["__obj__",["timestamp","Number"],["original","String"],["default","String"],["autoDetect","Boolean"],["localeKeys",["String"]],["localeDetection",'BEnum({"0":"querystring","1":"subdomain","2":"hash","3":"tld","4":"custom","5":"none"})'],["includeQueryString","Boolean"],["includeHash","Boolean"],["singlePageApp","Boolean"],["customUrls",null],["noCDN","Boolean"],["noLocalStorage","Boolean"],["noCookies","Boolean"],["qsParams",["String"]]]};if(decodeConf=function(c){return decodeWithVersion(c,a,b)},encodeConf=function(c){return encodeWithVersion(c,a,b)},encodePing=function(a){return encodeObject(c,a)},decodeSnippetData=function(a){if(14==a.length){var b=decodeWithVersion(a,d[2],Number(1));if(b)return b}for(var c in d){var b=decodeWithVersion(a,d[c],Number(c));if(b)return b}return null},!bablic.Site)for(var e=DOC.getElementsByTagName("SCRIPT"),f=0;f<e.length;f++)if(e[f].getAttribute("data-bablic")&&(bablic.Site=e[f].getAttribute("data-bablic")),e[f].getAttribute("data-bablic-m")){var g=e[f].getAttribute("data-bablic-m");g&&(g=JSON.parse(g.replace(/'/g,'"')),g=decodeSnippetData(g),bablic.data=g)}}(),function(){var a,b=function(){if(!WIN.getComputedStyle)return{};var a=WIN.getComputedStyle(DOC.DOCElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1],c="WebKit|Moz|MS|O".match(new RegExp("("+b+")","i"))[1];return{dom:c,lowercase:b,css:"-"+b+"-",js:b[0].toUpperCase()+b.substr(1)}};bablic.$.prototype.animate=function(c,d,e){return bablic.Modernizr.csstransitions?(this.each(function(){var f=this;f._babStop&&f._babStop();var g=a||(a=b()),h=d.duration||".5s",i=Object.keys(c).map(function(a){return a+" "+h}).join(",");f._babStop=function(){clearTimeout(k),e=null,j()};var j=function(){f.style[g.lowercase+"Transition"]="",f.style.transition="",new Array("transitionEnd",g.lowercase+"TransitionEnd").forEach(function(a){$(f).off(a,j)}),delete f._babStop,e&&e(),e=null};new Array("transitionEnd",g.lowercase+"TransitionEnd").forEach(function(a){$(f).on(a,j)}),f.style[g.lowercase+"Transition"]=i,f.style.transition=i;var k=setTimeout(function(){for(var a in c)f.style[a]=c[a]},0)}),this):setTimeout(e,0)}}();var bablicHash;!function(){function a(a){return btoa(b(c(a||"")))}function b(a){return e(f(d(a),8*a.length))}function c(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,b>=55296&&56319>=b&&c>=56320&&57343>=c&&(b=65536+((1023&b)<<10)+(1023&c),e++),127>=b?d+=String.fromCharCode(b):2047>=b?d+=String.fromCharCode(192|b>>>6&31,128|63&b):65535>=b?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):2097151>=b&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}function d(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<24-c%32;return b}function e(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>24-c%32&255);return b}function f(a,b){a[b>>5]|=128<<24-b%32,a[(b+64>>9<<4)+15]=b;for(var c=Array(80),d=1732584193,e=-271733879,f=-1732584194,k=271733878,l=-1009589776,m=0;m<a.length;m+=16){for(var n=d,o=e,p=f,q=k,r=l,s=0;80>s;s++){16>s?c[s]=a[m+s]:c[s]=j(c[s-3]^c[s-8]^c[s-14]^c[s-16],1);var t=i(i(j(d,5),g(s,e,f,k)),i(i(l,c[s]),h(s)));l=k,k=f,f=j(e,30),e=d,d=t}d=i(d,n),e=i(e,o),f=i(f,p),k=i(k,q),l=i(l,r)}return Array(d,e,f,k,l)}function g(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function h(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function i(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function j(a,b){return a<<b|a>>>32-b}WIN.atob||WIN.btoa||function(a){function b(a,b){var c=a.charCodeAt(b);if(c>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c}function c(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);var c,f,g=[],h=a.length-a.length%3;if(!a.length)return a;for(c=0;h>c;c+=3)f=b(a,c)<<16|b(a,c+1)<<8|b(a,c+2),g[g.length]=e.charAt(f>>18),g[g.length]=e.charAt(f>>12&63),g[g.length]=e.charAt(f>>6&63),g[g.length]=e.charAt(63&f);switch(a.length-h){case 1:f=b(a,c)<<16,g[g.length]=e.charAt(f>>18)+e.charAt(f>>12&63)+d+d;break;case 2:f=b(a,c)<<16|b(a,c+1)<<8,g[g.length]=e.charAt(f>>18)+e.charAt(f>>12&63)+e.charAt(f>>6&63)+d}for(var f=0,i=g.length,j="";i>f;)j+=g[f++];return j}var d="=",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";a.btoa=c}(WIN);var k={};bablicHash=function(b){var c=k[b];if(c)return c;var c=a(b);return k[b]=c,c}}(),bablic.hash=bablicHash;var root_path=bablic.debugServer||"e.bablic.com",fetchFromCDN,jsonp,jsonpURL,ajaxPost,ajaxGet,getPageTranslationURL,turnOffCDN;!function(a,b,c){a.now||(a.now=function(){return Number(new a)}),b.isArray||(b.isArray=function(a){return a&&a.constructor==b}),b.prototype.indexOf||(b.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1});var d=!PROXY&&!c.preview,e=null,f=c.cdnServer||"l.bablic.com",g=6e4,h=6e4;turnOffCDN=function(){e=a.now()};var i=c.jsonpCallback={},j=c.jsonpErrorCallback={},k=/\?/;jsonpURL=function(a){return a+=(k.test(a)?"&":"?")+"v="+c.version+(e?"&r="+e:"")+(c.localeURL?"&ld="+c.localeURL:"")+(c.preview?"&preview="+encodeURIComponent(c.preview):"")},jsonp=function(a,b,c,d){var e=d||encodeURIComponent(a);i[e]=function(a){clearTimeout(l),delete i[e],delete j[e],b(a)},j[e]=function(a){clearTimeout(l),delete i[e],delete j[e],c&&c(a)},a=jsonpURL(a);var f=DOC.createElement("SCRIPT");f.src=a,f.addEventListener?f.addEventListener("error",j[e],!1):"onerror"in f?f.onerror=j[e]:f.readyState&&(f.onreadystatechange=function(){setTimeout(function(){j[e]&&j[e](f.readyState)},1)});var k=DOC.getElementsByTagName("SCRIPT")[0];k.parentNode.insertBefore(f,k);var l=setTimeout(function(){c("CONNECTION")},LDATA&&LDATA.edit?h:g)};var l=!1,m=!1;getPageTranslationURL=function(a,b){var c;if(d&&!l)c="//"+f+a;else if(m){var e=k.test(a);c="//api2.bablic.com/api/engine/ldata"+a+(e?"&":"?")+"uri="+encodeURIComponent(pageUri()+(b?"__async__":""))}else{var e=k.test(a);c="//"+root_path+"/api/engine/ldata"+a+(e?"&":"?")+"uri="+encodeURIComponent(pageUri()+(b?"__async__":""))}return c},fetchFromCDN=function(a,b,c,d){function e(){var e=getPageTranslationURL(a,c);jsonp(e,function(a){d(null,a)},function(a){return a&&a.bablic?d(a):void d(a)},b)}e()},ajaxPost=function(a,b,d,e){d=d||function(){c.log("bablic POST success")};var f=function(a){c.log("bablic POST request failed "+a.responseText||a)};if(WIN.XMLHttpRequest)try{var g=new XMLHttpRequest;g.open("POST","//"+root_path+a+"?"+build_query_string()),e&&(g.withCredentials=!0),g.setRequestHeader("Content-type","application/json"),g.onreadystatechange=function(){if(4==g.readyState){var a=g.responseText;if("string"==typeof a)try{a=JSON.parse(a)}catch(b){}return g.status<200||g.status>=300?f(a):void d(a)}},g.send(JSON.stringify(b))}catch(h){f(h)}else{if(!WIN.JSON||!WIN.XDomainRequest)return;var i=new XDomainRequest;e&&(i.withCredentials="true"),i.open("post","//"+root_path+a+"?"+build_query_string()),i.onload=function(){setTimeout(function(){if("application/json"==i.contentType){var a=JSON.parse(i.responseText);(null==a||"undefined"==typeof a)&&(a=JSON.parse(b.firstChild.textContent)),d(a)}else d(i.responseText)},1)},i.onerror=function(){f(i.responseText)},i.send(JSON.stringify(b))}},ajaxGet=function(a,b,c,d){var e=new XMLHttpRequest,f=0==a.indexOf("http");e.open("GET",f?a:"//"+root_path+a+"?"+build_query_string()),e.setRequestHeader("Content-type","application/json"),e.withCredentials=!1,e.onreadystatechange=function(){if(4==e.readyState){var a=e.responseText;if("string"==typeof a)try{a=JSON.parse(a)}catch(b){}return e.status<200||e.status>=300?d(a):void c(a)}},e.send()}}(Date,Array,bablic),function(a){function b(a,c){return 1===arguments.length?function(){var c=$.makeArray(arguments);return c.unshift(a),b.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=$.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),$.each(c,function(b,c){a=a.replace(new RegExp("\\{"+b+"\\}","g"),c).replace("%s",c)}),a)}function c(b,c){if(!LDATA||!LDATA.content)return a.log("translation not loaded yet"),b;if(!Text)return b;!Text.stripText&&Text.prepare&&Text.prepare();var d={nodeType:3,nodeValue:b,nodeName:"#text"};return a.new_content=a.new_content||{},a.usage_report=a.usage_report||{},processNodeWithEngine(d,{tagName:"P"},c,Text.index,a.new_content),LDATA.report&&send_ldata_report(!1),LDATA.usage&&send_usage_report(),d.nodeValue}var d=a.getText=a.__=function(a,d){return d=d||[],arguments.length>2&&d.constructor!==Array&&(d=$.makeArray(arguments).slice(1)),d.constructor!==Array&&(d=[d]),b(c(a,{}),d)};a.getTextWithMarkup=function(a,d,e){return e=e||[],arguments.length>3&&e.constructor!==Array&&(e=$.makeArray(arguments).slice(2)),e.constructor!==Array&&(e=[e]),b(c(a,d),e)},a.__n=a.getTextPlural=function(a,d,e,f){arguments.length>4&&f&&f.constructor!==Array&&(f=$.makeArray(arguments).slice(3));var g=c(a),h=c(d);return e>1?b(g.replace(/%d/g,e),f):b(h.replace(/%d/g,e),f)};var e=WIN.alert;WIN.alert=function(){var a=d.apply(null,arguments);return e(a)},a.alert=function(){return e.apply(WIN,arguments)};var f=WIN.confirm;WIN.confirm=function(){var a=d.apply(null,arguments);return f(a)},a.confirm=function(){return f.apply(WIN,arguments)};var g=WIN.prompt;WIN.prompt=function(){var a=d.apply(null,arguments);return g(a)},a.prompt=function(){return g.apply(WIN,arguments)}}(bablic);var Mutation=bablic.Mutation={},attributeObserver;!function(a){function b(){var a=[],b=0;for(var c in p)a.push(function(c){return function(){c.parentNode&&processElement(c),b<a.length&&setTimeout(a[b++],0)}}(p[c]));p={},a.length&&a[b++](),n=null,r=Date.now()}if(Mutation.events=a._e||{},WIN.MutationObserver=WIN.MutationObserver||WIN.WebKitMutationObserver||WIN.MozMutationObserver,WIN.MutationObserver){var c={},d=new MutationObserver(function(a){for(var b=0;b<a.length;b++){if(a[b].attributeName&&a[b].attributeName in attributeObserver)var c=a[b].target;if(c){var d=c.attributes[a[b].attributeName];if(d&&readNodeAttr(d,"bablic_replaced_value",c)!=getNodeValue(d))return t({srcElement:c})}}});attributeObserver=function(a,b){c[b.nodeName]=!0,a._babi||(a._babi=!0,setTimeout(function(){d.observe(a,{attributes:!0})},1))}}else attributeObserver=function(a,b){var c=readNodeAttr(b,"_babi",a);c&&clearInterval(c),c=setInterval(function(){readNodeAttr(b,"bablic_replaced_value",a)!=getNodeValue(b)&&t({srcElement:a})},200),setNodeAttr(b,"_babi",c,a)};Mutation.on=function(a,b){Mutation.events[a]=Mutation.events[a]||[],Mutation.events[a].push(b)},Mutation.once=function(a,b){Mutation.events[a]=Mutation.events[a]||[];var c=function(){try{b()}catch(d){}Mutation.unbind(a,c)};Mutation.events[a].push(c)},Mutation.unbind=function(a,b){Mutation.events[a]=Mutation.events[a]||[];var c=Mutation.events[a].indexOf(b);c>-1&&Mutation.events[a].splice(c,1)},Mutation.emit=function(b,c){Mutation.events[b]=Mutation.events[b]||[];for(var d,e=0;e<Mutation.events[b].length;e++)try{d=Mutation.events[b][e].apply(a,c)||d}catch(f){}return d};var e=[];Mutation.rush=function(){var a=e.map(function(a){return a.h});a.forEach(function(a){a()})},Mutation.clearTimeout=function(a){var b=$.grep(e,function(b){return b.t==a})[0];b&&b.c()};var f=!1;Mutation.listen=function(){f||($(DOC.body).on("DOMNodeInserted",Mutation.callback).on("DOMCharacterDataModified",Mutation.callback),setInterval(function(){processElement(DOC.body)},5e3),f=!0)};var g=6,h=400,i=2,j=100,k=Date.now(),l=2e3,m={pointer:0,buffer:[],push:function(a){this.buffer[this.pointer]=a,this.pointer=(g+this.pointer+1)%g},get:function(a){return this.buffer[(this.pointer+a)%this.buffer.length]},count:function(a,b){for(var c=0,d=0;d<this.buffer.length;d++){var e=a(this.get(this.buffer.length-1-d));if(0>e)return c;if(c+=e,c>b)return c}return c},countByTime:function(a,b){return Date.now()-this.get(0).last_time<a},countByTimeAndElement:function(a,b,c){return this.count(function(c){return Date.now()-c.last_time<a?c.last_node==b?1:0:-1},c)>c}};m.push({last_node:null,last_time:Date.now()});var n,o=function(b){return Date.now()-k>l?Date.now()-m.get(0).last_time<j?(a.log("canceled because short time"),k=Date.now(),!0):m.countByTimeAndElement(h,b,i)?(a.log("canceled because same element"),k=Date.now(),!0):(m.push({last_node:b,last_time:Date.now()}),!1):!0},p={},q=0,r=Date.now(),s=300,t=Mutation.callback=function(c){if(LDATA&&LDATA.content){var d=c.srcElement||c.relatedNode||c.originalEvent&&c.originalEvent.srcElement||c.originalEvent&&c.originalEvent.relatedNode;if(d&&"SPAN"==d.tagName&&"bablicLink"==d.id&&d.parentNode)return d.parentNode.removeChild(d);if(!(a.mutation_listen_off>0)&&(Mutation.emit("mutation"),!a.noMutationListening&&d&&d!=WIN)){for(1!=d.nodeType&&(d=d.parentNode);d&&d.parentElement&&1==d.nodeType&&!("bablic_last_value"in d)&&d!=DOC.body&&"HEAD"!=d.tagName;)d=d.parentElement;if(!o(d))return a.log("sync handle"),void processElement(d);d.bablicId||(d.bablicId=Date.now()+"."+q++),p[d.bablicId]=d,n?Date.now()-r<s?(clearTimeout(n),n=setTimeout(b,50)):b():n=setTimeout(b,50)}}}}(bablic);var prefetchOnFirstView;!function(a){function b(a){$('head link[rel=prefetch][href="'+a+'"]').length()||$("head").append('<link bablic-exclude rel="prefetch" href="'+a+'" />')}prefetchOnFirstView=function(){a.proxy||$.each(a.locales,function(c,d){var e=normalizedCurrentPath(),f="/page?s="+a.Site+"&l="+d.key+"&page="+encodeURIComponent(e),g=getPageTranslationURL(f);g=location.protocol+jsonpURL(g,f),b(g),a.log("prefetch",g),f="/conf?s="+a.Site+"&l="+d.key,g=getPageTranslationURL(f),g=location.protocol+jsonpURL(g,f),b(g),a.log("prefetch",g)})}}(bablic);var LocalDB,USE_LOCAL_DB=!PROXY&&!bablic.preview||-1!=location.search.indexOf("testBablicLS"),USE_INDEXED_DB=USE_LOCAL_DB;!function(){function a(a){if(!bablic.locale||!WIN.indexedDB)return a();if(bablic.locale in d)return a(null,d[bablic.locale]);if(bablic.locale in e)return e[bablic.locale].push(a);var b=bablic.locale;try{var c=4,f=indexedDB.open("bablic_"+b,c);e[b]=[];var g=setTimeout(function(){h("Timeout")},3e3),h=function(c,f){f&&(d[b]=f),clearTimeout(g),c&&LocalDB.setSync("dbdown","1"),a&&(a(c,f),e[b].forEach(function(a){a(c,f)}),delete e[b],a=null)};f.onupgradeneeded=function(b){var c=b.target.result;b.target.transaction.onerror=a;var d=c.createObjectStore("a",{keyPath:"id"
});d.createIndex("page","page",{unique:!1,multiEntry:!0})},f.onsuccess=function(a){h(null,a.target.result)},f.onerror=function(a){h(a)}}catch(i){a(i)}}var b,c=function(){return WIN.localStorage?WIN.localStorage:b?b:b={getItem:function(a){return LocalDB.cookie.getCookie(a)},setItem:function(a,b){LocalDB.cookie.setCookit(a,b)}}},d={},e={};LocalDB={cookie:{setCookie:function(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=escape(b)+(null==c?"":"; expires="+d.toUTCString())+"; path=/";DOC.cookie=a+"="+e},getCookie:function(a){var b,c,d,e=DOC.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return unescape(d)},clear:function(a){var b=new Date;DOC.cookie=a+"=; expires="+b.toUTCString()+"; path=/"}},getSync:function(a,b){return USE_LOCAL_DB||b?c().getItem("bab_"+a):null},setSync:function(a,b,d){if(USE_LOCAL_DB||d)try{c().setItem("bab_"+a,b)}catch(e){bablic.error("LocalDB failed",e)}},getConf:function(){return JSON.parse(LocalDB.getSync("bablic")||"null")},setConf:function(a){LocalDB.setSync("bablic",JSON.stringify(a))},getByIds:function(b,c){if(!USE_INDEXED_DB)return c(!0);try{a(function(a,d){if(a||!d)return c(a);try{var e=d.transaction(["a"],"readonly"),f=e.objectStore("a"),g={};parallelEach(b,function(a,b){var c=f.get(a);c.onsuccess=function(c){var d=c.target.result;d&&(g[a]=d.value),b()},c.onerror=function(a){b()}},function(a){c(a,g)})}catch(h){c(h)}})}catch(d){c(d)}},getByPage:function(b,c){if(!USE_INDEXED_DB)return c(!0);try{a(function(a,d){if(a||!d)return c(a);try{var e=d.transaction(["a"],"readonly"),f=e.objectStore("a"),g=f.index("page"),h=IDBKeyRange.only(b),i={},j=!1;g.openCursor(h).onsuccess=function(a){var b=a.target.result;b&&("__set__"!=b.value.id?i[b.value.id]=b.value.value:j=!0,b["continue"]())},e.oncomplete=function(){return!j&&$.isEmptyObject(i)?c("not found",i,d):void c(null,i,d)}}catch(k){c(k)}})}catch(d){c(d)}},setByPage:function(a,b){USE_INDEXED_DB&&($.isEmptyObject(a)&&(a.__set__="true"),LocalDB.getByPage(b,function(c,d,e){if(!e||!d)return bablic.error(c);var f=[],g=[];for(var h in a)h in d||!function(a,c){f.push(function(d){var f=e.transaction(["a"],"readonly"),h=f.objectStore("a");h.get(a).onsuccess=function(e){var f=e.target.result;if(f){if(f.page.indexOf(b)>-1)return;f.page.push(b)}else f={id:a,value:c,page:[b]};g.push(f),d()}})}(h,a[h]);parallel(f,function(a){if(a)return bablic.error(a);var b=e.transaction(["a"],"readwrite"),c=b.objectStore("a");g.forEach(function(a){c.put(a)}),b.oncomplete=function(a){bablic.log(a)},b.onerror=function(a){bablic.error(a)}})}))},clearSync:function(a){WIN.localStorage?localStorage.removeItem(a):LocalDB.cookie.clear(a)},clearAll:function(a){var b=["bab_bablic","bab_locale","bab_original"];return $.each(bablic.locales||[],function(a,c){b.push("bab_global"+c)}),$.each(b,function(a,b){LocalDB.clearSync(b)}),WIN.indexedDB?void parallelEach(bablic.locales,function(a,b){var c=indexedDB.deleteDatabase("bablic_"+a.key);delete d[a.key],c.onsuccess=function(){bablic.log("Deleted database successfully"),b&&b(),b=null},c.onerror=function(){bablic.error("Couldn't delete database"),b&&b(),b=null},c.onblocked=function(){bablic.error("Couldn't delete database due to the operation being blocked"),b&&b(),b=null}},a):a()}},bablic.cookie=LocalDB.cookie,USE_LOCAL_DB&&(USE_INDEXED_DB=!LocalDB.getSync("dbdown"))}();var hideWidget,showFlags;!function(bablic){function renderTags(context,template){var saveUnderscore=WIN._;WIN._=context;var renderedHTML=template.replace(FOREACH_REGEX,function(a0,collectionVar,inner){for(var localesHTML=[],collection=eval(collectionVar),i=0;i<collection.length;i++){var item=collection[i];item.parent=context;var itemHTML=renderTags(item,inner);localesHTML.push(itemHTML)}return localesHTML.join("")}).replace(VAR_REGEX,function(a0,varName){return eval(varName)}).replace(IF_REGEX,function(a0,varName,inner){return eval(varName)?inner:""});return WIN._=saveUnderscore,renderedHTML}function renderWidget(a,b){var c=a||{},d=WIDGET_TYPES[c.widgetType||"flags"].html,e=bablic.Site?bablic.Site.charCodeAt(bablic.Site.length-1)%3:0,f={c:c,l:b,s:a.hideCurrent?b[0]:targetLocale,sizeNum:SIZES[c.size],size:c.size,p:location.protocol,keyword:{0:"Website translation",1:"Website localization",2:"Translate Your Website"}[e],rgba:function(a,b){var c=this.c.colors[a],d=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;c=c.replace(d,function(a,b,c,d){return b+b+c+c+d+d});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);return e?"rgba("+parseInt(e[1],16)+","+parseInt(e[2],16)+","+parseInt(e[3],16)+","+b+")":c}},g=renderTags(f,d),h=renderTags(f,WIDGET_TYPES[c.widgetType].css);window.BABLIC_ZOOM&&1!=BABLIC_ZOOM&&(h+="\nhtml{zoom:"+BABLIC_ZOOM.toFixed(4)+";}");var i=WIDGET_TYPES[c.widgetType].js.toString();return'<!DOCTYPE html>                <html style="overflow:hidden" class="'+(bablic.mobile?"mobile":"desktop")+'">                    <head>                        <style>'+h+'</style>                    </head>                <body style="margin:0">'+g+"<script>("+i+")();</script></body>        </html>"}function injectWidget(a,b){var c=DOC.createElement("iframe");c.setAttribute("bablic-exclude","true"),c.id="bablicFlagsWidget",c.style.position="fixed",c.style.width=0,c.style.height=0,c.style.margin=0,c.style.border="none",setZIndex(c);var d=a.distance+a.unit,e=a.corner;switch(e){case 1:c.style.top=0,c.style.left=d;break;case 2:c.style.top=0,c.style.right=d;break;case 3:c.style.top=d,c.style.right=0;break;case 4:c.style.right=0,c.style.bottom=d;break;case 5:c.style.right=d,c.style.bottom=0;break;case 6:c.style.left=d,c.style.bottom=0;break;case 7:c.style.left=0,c.style.bottom=d;break;case 8:c.style.top=d,c.style.left=0;break;default:bablic.error("This corner is not defined "+a.corner)}var f=$("#bablicEditorSideBar");f.length()?DOC.body.insertBefore(c,f.get(0)):DOC.body.appendChild(c);try{c.contentWindow.document.open(),c.contentWindow.document.write(b),c.contentWindow.document.close()}catch(g){c.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(b)}return c}function resizeWidget(a,b){var c=DOC.getElementById("bablicFlagsWidget");c&&(null!==b&&(c.style.height=b+"px"),null!==a&&(c.style.width=a+"px"))}function updateScrollPadding(){var a=Modernizr.touch&&$.window.width()<700||WIN.top.editor&&"mobile"==WIN.top.editor.device();a!=MOBILE&&(MOBILE=bablic.mobile=a,showFlags());var b=hasAutoHidingScrollBar()?detectScrollbarWidth():0;if(b!=addedPadding){var c=b-addedPadding;addedPadding=b;var d=DOC.getElementById("bablicFlagsWidget");if(d){var e=d&&d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.getElementsByTagName("ul")[0];if(e){var f=["top","right","bottom","left"][Math.floor(bablic.widgetConf.position.corner/2)];if("left"==f||"right"==f){var g=parseInt($(e).css("padding-"+f)||"");$(e).css("padding-"+f,g+c+"px"),$(d).css("width",parseInt($(d).width())+c)}}}}}function hasAutoHidingScrollBar(){if(!WIN.innerHeight||!WIN.innerWidth)return!1;if(DOC.body.clientHeight<=WIN.innerHeight&&!(DOC.body.scrollHeight>WIN.innerHeight))return!1;if("hidden"==$("html").css("overflow")||"hidden"==$("html").css("overflow-y"))return!1;var a=DOC.getElementsByTagName("html")[0]||DOC.body;return a?WIN.innerWidth==a.clientWidth:!1}function detectScrollbarWidth(){if(scrollWidth)return scrollWidth;var a=bablic.$('<div style="width:100px; height:100px; overflow:scroll; position:absolute; top:-99999px" class="bablic-scrollbar-measure" bablic-exclude></div>').appendTo("body");if(0==a.length)return 0;var b=a.get(0),c=b.offsetWidth-b.clientWidth;return a.remove(),c}var SIZES={1:16,2:24,3:32,4:48,5:64,6:128},EMBEDDED_WIDGET='<ul class="bablic-flags-menu"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_.name}}"> <img src="{{_.flag}}" alt="{{_.name}}"> </a> </li> {/?} </ul> ',WIDGET_TYPES={flags:{html:'<ul class="size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.expanded?"expanded":""}} {{_.c.widgetType.indexOf("Horiz")>-1?"horizontal":"vertical"}}"> {@_.l} <li {{_.selected ? "class=\\"selected\\"":""}}> <a class="item" target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_.name}}" style="font-size:{{Math.floor(_.parent.sizeNum*0.5*_.factor)+3}}px;"> {?_.parent.c.widgetType.indexOf("flags")>-1} <img src="{{_.parent.p}}{{_._flag}}" alt="{{_.name}}"> {/?} {?_.parent.c.widgetType.indexOf("flags")==-1} {{_.prefix}} {/?} </a> </li> {/@} {?_.c.logo} <li class="logo"><a target="_top" href="https://www.bablic.com/" title="Powered by Bablic"><img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/theme/{{_.c.colors[0]=="#01B0F0"?"dark":"blue"}}/{{_.sizeNum}}.png"></a></li> {/?} </ul>',css:'ul{ position:absolute; {{_.c.position.corner%8>3?"bottom:0":"top:0"}}; list-style: none; margin:0; {?!_.c.expanded} transition: height 300ms,width 300ms; -webkit-transition: height 300ms,width 300ms; -moz-transition: height 300ms,width 300ms; -ms-transition: height 300ms,width 300ms; -o-transition: height 300ms,width 300ms; {/?} background-color: {{_.c.colors[0]}}; overflow:hidden; left:0; right:auto; } ul.vertical{ width: {{_.sizeNum}}px; height: {{_.sizeNum}}px; padding:4px 6px; } ul.horizontal{ width: {{_.sizeNum+14}}px; height: {{_.sizeNum+8}}px; padding:0; } ul.corner2,ul.corner3,ul.corner4,ul.corner5{ right:0; left:auto; } a.item{ color:{{_.c.colors[1]}}; text-decoration:none; font-family:Arial; text-transform:uppercase; display:block; text-align:center; line-height:{{_.sizeNum}}px; white-space: nowrap; } ul.corner1,ul.corner2{ border-radius: 0 0 5px 5px; } ul.corner3,ul.corner4{ border-radius: 5px 0 0 5px; } ul.corner5,ul.corner6{ border-radius: 5px 5px 0 0; } ul.corner7,ul.corner8{ border-radius: 0 5px 5px 0; } ul li{ height: {{_.sizeNum}}px; width:{{_.sizeNum}}px; display:none; float:left; } ul.horizontal li{ padding:4px 7px; } ul.corner2 li,ul.corner3 li,ul.corner4 li,ul.corner5 li{ float:right; } ul.expanded li,ul li.selected{ display:block; } ul li a img{ height:100%; } ul li.logo a img{ width:70%; height:70%; top:15%; left:15%; position:relative; }',js:function(){var a=parent.bablic,b=a.$,c=b(document.getElementsByTagName("ul"));a.resizeWidget(c.width(),c.height()),b.byTag("a",document).on("click",function(c){if(c.preventDefault(),!a.widgetConf.expanded&&a.mobile&&(!d||e))return e=!1,!1;var f=b(this).attr("data-locale");return f?void a.redirectTo(f):a.logo()}),"ontouchstart"in document&&(b(parent.document.body).on("touchstart",function(a){d&&q()}),b.byTag("a",document).on("touchstart",function(c){if(c.preventDefault(),!a.widgetConf.expanded&&a.mobile&&(!d||e))return d||p(),e=!1,!1;var f=b(this).attr("data-locale");return f?void a.redirectTo(f):a.logo()}));var d,e,f,g,h=parseInt(c.css("padding-top"))+parseInt(c.css("padding-bottom")),i=parseInt(c.css("padding-left"))+parseInt(c.css("padding-right")),j=c.children("li").length(),k=Math.ceil(j/15),l=c.height(),m=c.width(),n=a.widgetConf.widgetType.indexOf("Horiz")>-1;if(n?(f=(l-h)*k+h,g=(m-i)*Math.ceil(j/k)+i):(f=(l-h)*Math.ceil(j/k)+h,g=(m-i)*k+i),a.widgetConf.expanded)return a.resizeWidget(g,f),void c.css("height",f-h).css("width",g-i);var o,p=function(){a.resizeWidget(g,f),c.css("height",f-h).css("width",g-i),b.byTag("li",document).css("display","block"),d=!0,e=!0,o&&clearTimeout(o),o=null},q=function(){return d=!1,e=!1,c.css("height",l-h).css("width",m-i),b.byTag("li",document).css("display",""),a.Modernizr.csstransitions?void(o=setTimeout(function(){o=null,a.resizeWidget(m,l)},500)):a.resizeWidget(m,l)};c.on("mouseenter",p).on("mouseleave",q)}},labels:{html:'{?!_.c.expanded} <div class="opened_box size{{_.c.size}} corner{{_.c.position.corner}}"> <span class="left">{{_.s.name}}</span> <img class="theme" style="display:{{_.c.logo?"":"none"}}" alt={{_.keyword}} src="{{_.p}}//uploads.bablic.com/flags/theme/{{_.c.colors[0]=="#01B0F0"?"dark":"blue"}}/16.png" /> <span class="right"><div class="triangle-down"></div></span> </div> {/?} <div class="closed_box size{{_.c.size}} corner{{_.c.position.corner}} {{_.c.logo?"logo_on":"logo_off"}}"> {@_.l} <a target="_top" data-locale="{{_.key}}" href="{{_.href}}" title="{{_.name}}"><p>{{_.name}}</p></a> {/@} {?_.c.logo} <small><span>powered by&nbsp;</span><a href="https://www.bablic.com/?utm_source=LangWidget&utm_medium=LangWidget&utm_campaign=LangWidget" target="_blank"><img alt="{{_.keyword}}" src="{{_.p}}//uploads.bablic.com/flags/logo/TW{{_.c.colors[0]=="#01B0F0"?"D":"B"}}-x15.png"/></a></small> {/?} </div> ',css:"body { font-family: sans-serif; color: {{_.c.colors[2]}}; font-weight:bold; } a,a:visited,a:focus,a:active,.desktop a:hover{ color: inherit; text-decoration: none; } .opened_box { position:absolute; cursor:pointer; } span { box-sizing: border-box; height:100%; } .left{ float:left; padding-left:11px; } .right { width:15%; height:100%; border-bottom-right-radius:5px; border-top-right-radius:5px; float:right; } .triangle-down { width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 8px solid {{_.c.colors[2]}}; } .closed_box { position:absolute; padding:5px; box-sizing:border-box; } .closed_box p { border-radius:3px; padding:6px; margin:0; } .closed_box small { padding-right:5px; float:right; font-size:11px; margin-top:3px; } .closed_box p{ cursor:pointer; } .size4 { width: 240px; font-size:18px; } .size4 .right .triangle-down { margin-left:15px; margin-top:18px; } .size3 { width:200px; font-size:16px; } .size3 .right .triangle-down { margin-left:10px; margin-top:16px; } .size2 { width:160px; font-size:14px; } .size2 .right .triangle-down { margin-left:10px; margin-top:12px; } .size2 .right{ width:16%; } .size2 small { font-size:4px; } .opened_box.size2 { height:30px; } .opened_box.size2 .left { padding-top:8px; } .opened_box.size3 { height:40px; } .opened_box.size3 .left { padding-top:12px; } .opened_box.size4 .left { padding-top:14px; } .opened_box.size4 { height:45px; } .corner1,.corner2 { top:0; right:0; border-bottom-left-radius:5px; border-bottom-right-radius:5px; } .corner5,.corner6 { bottom:0; right:0; border-top-left-radius:5px; border-top-right-radius:5px; } .closed_box.size2 small span { font-size:9.5px; } .closed_box.corner5 small, .closed_box.corner6 small { position:absolute; top:1.5px; right:2px; } .closed_box.corner5.logo_on, .closed_box.corner6.logo_on { padding-top:25.5px; } .closed_box.corner5.size2.logo_on, .closed_box.corner6.size2.logo_on { padding-top:21px; } .closed_box small span, .closed_box small a { opacity:0.8; } .desktop .closed_box small a:hover{ opacity:1; } div{ background-color: {{_.c.colors[0]}}; } .right { border-left:1px solid {{_.rgba(1,0.2)}}; } .desktop div p:hover { background-color: {{_.c.colors[1]}}; } small a img{ height:11px; } .theme{ position: absolute; top: 0; bottom: 0; margin: auto 0; width:16px; height:16px; } .size2 .theme{ right:41px; width:12px; height:12px; } .size3 .theme{ right: 42px; } .size4 .theme{ right: 55px; } ",js:function(){var a,b,c=parent.bablic,d=c.$,e=document,f=d.byClass("opened_box",e),g=d.byClass("closed_box",e);if(d.byTag("a",e).on("click",function(e){if(!c.widgetConf.expanded&&c.mobile&&(!a||Date.now()-b<500))return b=null,e.preventDefault(),!1;var f=d(this).attr("data-locale");f&&(e.preventDefault(),parent.bablic.redirectTo(f))}),c.widgetConf.expanded)return void c.resizeWidget(g.width(),g.height());g.hide(),c.resizeWidget(f.width(),f.height());var h=function(){g.hide(),f.show(),c.resizeWidget(f.width(),f.height()),a=!1,b=null};window.onClickOutside=h,f.on("mouseover",function(){d(this).hide(),g.show(),c.resizeWidget(g.width(),g.height()),a=!0,b=Date.now()}),g.on("mouseleave",h)}}};WIDGET_TYPES.flagsHoriz=WIDGET_TYPES.letters=WIDGET_TYPES.lettersHoriz=WIDGET_TYPES.flags;var FOREACH_REGEX=/\{@([^\s]+)\}((?:.|\n)*?)\{\/@}/g,VAR_REGEX=/\{\{(.*?)\}\}/g,IF_REGEX=/\{\?(.*?)\}((?:.|\n)*?)\{\/\?\}/g,addedPadding=0,resizeInt,scrollWidth;hideWidget=function(){bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove(),bablic.setMutationListen(!0)};var registerLoadEvent,flagsLoaded=!1,showFlagsInt;showFlags=function(a,b){if(!bablic.hideWidget&&LDATA){if(!DOC.body)return void(registerLoadEvent||flagsLoaded||($(DOC).on("DOMContentLoaded",function(){showFlags()}),showFlagsInt=setInterval(function(){showFlags()},500),registerLoadEvent=!0));showFlagsInt&&clearInterval(showFlagsInt),flagsLoaded=!0,a=a||LDATA.widget[b||MOBILE?1:0],bablic.widgetConf=a,$.each(bablic.locales,function(b,c){c._flag=c.flag||"//uploads.bablic.com/flags/"+SIZES[a.size]+"/"+c.key+".png",c.href=bablic.getLink(c.key,null,null,c.legacy,c),c.selected=c.key==bablic.locale,c.prefix=c.name.substr(0,2),c.factor=/zh|hi/.test(c.key)?.66:1}),bablic.setMutationListen(!1),$("#bablicFlagsWidget").remove();var c=$.grep(bablic.locales,function(a){var b=LocaleSettings[a.key];return b?!b.hide:!0}),d=c.indexOf(targetLocale);if(c.splice(d,1),a.hideCurrent?c[0].selected=!0:a.position.corner%8<4||"labels"!=a.widgetType?c.unshift(targetLocale):c.push(targetLocale),!a.show){if(!a.embedded)return bablic.setMutationListen(!0);var e=$(a.embedded);if(!e.length())return bablic.error("can't find target element "+a.embedded),bablic.setMutationListen(!0);var f=renderTags({c:a,l:c},EMBEDDED_WIDGET);return e.html(f),bablic.setMutationListen(!0)}if(targetLocale.engines.indexOf(5)>-1&&a.position){var g=a.position._corner||a.position.corner;a.position._corner=g,g=(11-g-1)%8+1,a.position.corner=g}var h=renderWidget(a,c),i=injectWidget(a.position,h);WIN.addEventListener&&(WIN.removeEventListener("resize",updateScrollPadding),WIN.addEventListener("resize",updateScrollPadding)),$.byTag("body").off("resize",updateScrollPadding).on("resize",updateScrollPadding),triggerEvent("afterWidgetRender",[i]),resizeInt&&clearInterval(resizeInt),resizeInt=setInterval(updateScrollPadding,2e3),bablic.setMutationListen(!0)}},$(DOC).on("click",function(){var a=DOC.getElementById("bablicFlagsWidget");a&&a.contentWindow&&a.contentWindow.onClickOutside&&a.contentWindow.onClickOutside()}),bablic.showFlags=showFlags,bablic.resizeWidget=resizeWidget,bablic.logo=function(){setTimeout(function(){$("#bablic_dialogContainer,#bablic_dialogContainer *").on("click",function(){a.css("opacity",0),setTimeout(function(){a.remove()},400)})},10);var a=$('<div id="bablic_dialogContainer" data-bablic-exclude style="background: #000; background: rgba(0,0,0,0.8); background: -webkit-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -moz-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: -ms-radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); background: radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.45) 1%, rgba(0,0,0,0.8) 100%); filter: alpha(opacity = 80); position: fixed; right: 0; top: 0 !important; z-index: 999999999999999; overflow-x: auto; overflow-y: scroll; opacity:0; -webkit-transition: 400ms opacity ease; -moz-transition: 400ms opacity ease; transition: 400ms opacity ease; overflow: hidden; width:100%; height:100%; display:block; border-radius: 10px;"><div id="bablic_dialogTemplate" style="padding:0; top:0; bottom:0; box-shadow: 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0, 0 0 10px #bfc0c0; border: 1px solid #0081a8; z-index:300; width:470px; height:120px;  max-width:90%; max-height:90%; position:absolute; left:0; right:0; margin:auto;"><div class="bablic-close-popup" style="position: absolute; cursor: pointer; display: block; background: url(\'//www.bablic.com/images/2/blue-x.png\') no-repeat; width:18px; height:18px; top:0; right:0;"></div><iframe class="bablic_iframe" style="width:100%; height:100%; border:0;" src="//www.bablic.com/banner?site='+bablic.Site+'"></iframe></div></div>').appendTo("body");setTimeout(function(){a.css("opacity",1)},1)}}(bablic);var bidiInline;!function(){var a={stripNumRegex:/(\d+)(.*)/,needTransform:function(){return(originalLocale.dir&&"rtl"==originalLocale.dir)!=(targetLocale&&"rtl"==targetLocale.dir)?targetLocale.dir||"ltr":null},replace_css_attr:{"margin-left":"margin-right",left:"right","padding-left":"padding-right"},defs:{"margin-left":0,"margin-right":0,"padding-right":0,"padding-left":0,top:0,left:0,"float":"","text-align":""},replace_css_value:{"text-align":{left:"right"},"float":{left:"right"}},replace_attr_value:{},bidiElement:function(a,b){if(!a.bablic_bidid&&1==a.nodeType){a.bablic_bidid=!0;var c=this,a=$(a);$.each(c.replace_css_attr,function(b,d){var e,f=!1,g=!1;a.css(b)&&Number(/\d+/.exec(a.css(b)))&&(f=!0,e=a.css(b)),a.css(d)&&Number(/\d+/.exec(a.css(d)))&&(a.css(b,a.css(d)),a.css(d,c.defs[d]),g=!0),f&&(a.css(d,e),g||a.css(b,c.defs[b]))});var d=a.css("right")&&0===Number(/\d+/.exec(a.css("right"))+""),e=a.css("left")&&0===Number(/\d+/.exec(a.css("left"))+"");d?(a.css("left","0px"),e?a.css("right","0px"):a.css("right","auto")):e&&(a.css("right","0px"),a.css("left","auto")),$.each(this.replace_css_value,function(b,c){a.css(b)&&$.each(c,function(c,d){var e=!1;a.css(b)==c&&(e=!0),a.css(b)==d&&a.css(b,c),e&&a.css(b,d)})}),$.each(this.replace_attr_value,function(b,c){a.attr(b)&&$.each(c,function(c,d){var e=!1;a.attr(b)==c&&(e=!0),a.attr(b)==d&&a.attr(b,c),e&&a.attr(b,d)})})}},RTL_REGEX:/(left|right)/g,MARGIN_PADDING_REGEX:/(margin|padding)[\s\t\n\r]*:[\s\t\n\r]*([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))[\s\t\n\r]+([0-9.]+(?:px|em|pt|%|))/g,bidiInline:function(a){if(!a.bablic_bidid&&1==a.nodeType){a.bablic_bidid=!0;var b=a.attributes.style;if(b){var c=b.nodeValue;c&&(c=c.replace(this.RTL_REGEX,function(a){return"left"==a?"right":"left"}),c=c.replace(this.MARGIN_PADDING_REGEX,"$1:$2 $5 $4 $3"),b.nodeValue=c)}}}};bidiInline=function(b){return a.bidiInline(b)}}(),new_content=null,usage_report=null;var LDATA,Engines={},processElement,savedContentNodes=[],IS_PROPERTIES_SUPPORTED,addMarkupByCode,excludeByCode,includeByCode,readNodeAttr,setNodeAttr,readNodeAttrIf,setNodeAttrIf,setDir,domTraverse,mergeContentNodes,flushMergedNodes,getNodeValue,processNodeWithEngine,node_to_location,addOMGScript,triggerEvent,_forceTraverse=!1;!function(a){function b(a,b){if(!l[a])return!1;if("string"==typeof b)return l[a].sels&&b in l[a].sels?(delete l[a].sels[b],!0):!1;if(!l[a].el)return!1;var c=$.grep(l[a].el,function(a){return a[0]==b})[0];if(!c)return!1;var d=l[a].el.indexOf(c);return l[a].el.splice(d,1),!0}function c(){for(var a in l){var b=l[a];if(b){var c=b.sels;if(c)for(var d in c)$(d).attr("bablic-"+a,c[d]).addClass("bablic-code-markup");var e=b.el;if(e)for(var f=0;f<e.length;f++)$(e[f][0]).attr("bablic-"+a,e[f][1]).addClass("bablic-code-markup")}}}function d(a){var b={};return a.attributes&&$.each(a.attributes,function(a,c){var d=j.exec(c.nodeName);d&&(b[d[1]]=c.value)}),b}function e(a){for(var b,c={};b=o.exec(a);)c[b[1]]=b[2];return c}function f(a,b){if(!a.parentNode)return{};if(a.parentNode.bablicTotalMarkup)return a.parentNode.bablicTotalMarkup;for(var c={exclude:b},e=$(a).parents(),f=0;f<e.length;f++){var g=e[e.length-1-f];if("TEXTAREA"==g.tagName||"IFRAME"==g.tagName||"SVG"==g.tagName)return null;var h=d(g);for(var i in h){var j=h[i];"exclude"==i?j=!0:"include"==i&&(i="exclude",j=!1),c[i]=j}}return a.parentNode.bablicTotalMarkup=c,c}function g(a){for(;a;){var b=readNodeAttr(a,"bablic_dir");if(b)return b;a=a.parentNode}return originalLocale.dir&&"rtl"==originalLocale.dir?"rtl":"ltr"}function h(a){if(s.length){var b=a&&WIN.omg&&!!omg.initContent2,c={};for(var d in LDATA.content)c[LDATA.content[d]]=d;for(var e=[],f=0;f<s.length;f++)e=e.concat(s[f]);s=[];var g=[];e=e.filter(function(a){return a.content in c?(a.hash=c[a.content],g.push(a),!1):!0});var h=b?e.slice():null,i=b?[]:null,j={};savedContentNodes.forEach(function(a){var b=!DOC.contains(a.element);return b?(j[a.hash]=j[a.hash]||[],void j[a.hash].push(a)):void e.push(a)});for(var f=0;f<g.length;f++){var k=g[f].hash,l=g[f].node,m=g[f].element,n=j[k];if(n&&n.length){var o=n.pop();o.node=l,o.element=m,e.push(o),b&&i.push(o)}}if(b){var p=omg.initContent2(h,i);p&&p.forEach(function(a){e.splice(e.indexOf(a),1)})}savedContentNodes=e}}function i(a,b,c,d,e){if(!(HAS_ANGULAR&&a.nodeValue&&a.nodeValue.indexOf("{{")>-1)){if(_forceTraverse||readNodeAttr(a,"bablic_last_value",d)!==getNodeValue(a)){var f=c||{};if(c&&c._hash){f={};for(var g in c){var h=c[g];h&&h.length&&(f[g]=h[h.length-1])}}var j=!1;for(var g in LDATA.engines){var k=processNodeWithEngine(a,d,f,g,b,e);j=j||k}setNodeAttr(a,"bablic_last_value",getNodeValue(a),d)}if(1==a.nodeType&&a.attributes)for(var l=0;l<a.attributes.length;l++)(a.attributes[l].nodeName||"").toLowerCase()in t&&i(a.attributes[l],b,f,a)}}var j=/^(?:data\-)?bablic\-(.+)$/,k="https://www.bablic.com/dist";a.debugServer&&(k="//"+a.debugServer+"/dist"),processElement=a.processElement=function(b){if(LDATA){if(!DOC.body.getAttribute("bablic-exclude")){var c=savedContentNodes;savedContentNodes=[],domTraverse(b,a.UseInclude),mergeContentNodes(c)}(LDATA.fallback||LDATA.report)&&send_ldata_report(),LDATA.usage&&send_usage_report()}};var l={};addMarkupByCode=function(a,b,c){a&&b&&(l[a]=l[a]||{},"string"==typeof b?(l[a].sels=l[a].sels||{})[b]=c:(l[a].el=l[a].el||{}).push([b,c]))},excludeByCode=function(a){b("include",a)||addMarkupByCode("exclude",a,!0)},includeByCode=function(a){b("exclude",a)||addMarkupByCode("include",a,!0)},IS_PROPERTIES_SUPPORTED=!0;try{DOC.createTextNode("stam").a=0}catch(m){IS_PROPERTIES_SUPPORTED=!1}readNodeAttr=IS_PROPERTIES_SUPPORTED?function(a,b,c){return 2==a.nodeType?c["ba_"+a.nodeName+"_"+b]:a[b]}:function(a,b,c){if(1==a.nodeType||9==a.nodeType)return a[b];c=c||a.parentNode||a.ownerElement;var d=a.nodeName;if("#text"==d){for(var e=0;a.previousSiblin;)a=a.previousSibling,e++;d="#text"+e}return c[d+"_b_"+b]},setNodeAttr=IS_PROPERTIES_SUPPORTED?function(a,b,c,d){return 2==a.nodeType?d["ba_"+a.nodeName+"_"+b]=c:void(a[b]=c)}:function(a,b,c,d){if(1==a.nodeType||9==a.nodeType)return void(a[b]=c);d=d||a.parentNode||a.ownerElement;var e=a.nodeName;if("#text"==e){for(var f=0;a.previousSiblin;)a=a.previousSibling,f++;e="#text"+f}d[e+"_b_"+b]=c},setNodeAttrIf=IS_PROPERTIES_SUPPORTED?setNodeAttr:function(){},readNodeAttrIf=IS_PROPERTIES_SUPPORTED?readNodeAttr:function(){};var n=function(a){return a.dir||$(a).css("direction")};setDir=function(a,b){$(a).css("direction",b),a.dir=b};var o=/(\w+)(?:=["']?([^"']*)["']?)?/g,p=/^\s*(\/?)bablic((?:.|\n)*)/;domTraverse=function(b,h){function j(b){for(var c=b;c.previousSibling;)c=c.previousSibling;for(;c!=b;){if(8==c.nodeType){var d=p.exec(c.nodeValue);if(d)if(d[1])A.length?l(A.pop()):a.error("Cant find start comment tag");else{A.push(c);var f=e(d[2]);k(c,f)}}c=c.nextSibling}}function k(a,b){for(var c in b){var d=b[c];"exclude"==c?v||(v=a,u&&(w.push(u),u=null)):"include"==c?u||(u=a,v&&(x.push(v),v=null)):(y.push({node:a,key:c,value:d}),z[c]=z[c]||[],z[c].push(d))}}function l(a){for(a==u&&(u=null,v=x.length?x.pop():null),a==v&&(v=null,u=w.length?w.pop():null);y.length&&y[y.length-1].node==a;){var b=y.pop();z[b.key].pop(),z[b.key].length||delete z[b.key]}}function m(){if(1==s.nodeType){if(HAS_ANGULAR&&($(s).hasParent("[ng-controller]:not(.ng-scope),[ng-module]:not(.ng-scope)")||$(s).parent().is("[ui-view]")&&!$(s).is(".ng-scope")))return!0;if(!E&&readNodeAttr(s,"_seg")&&(E=s),q){B.push(r),s.parentNode&&!s.bablic_dir&&s.parentNode.bablic_dir&&setDir(s,r);var b=s.bablic_dir||s.getAttribute("bablic_dir")||n(s);b&&(r=b)}var c=d(s);k(s,c)}else{if(8!=s.nodeType)return;var f=p.exec(s.nodeValue);if(!f)return;if(f[1])A.length?l(A.pop()):a.error("Cant find start comment tag");else{A.push(s);var c=e(f[2]);k(s,c)}}}function o(){if(u&&i(s,a.new_content,z,1==s.nodeType?s:s.parentNode,E),1==s.nodeType){if(E&&E==s&&(E=null),LDATA.bidi_direction){var b=z.bidi?z.bidi[z.bidi.length-1]:null;u&&"false"!=b||"true"==b?(s.bablic_dir||s.getAttribute("bablic_dir")||(setDir(s,"ltr"==(r||"").toLowerCase()?"rtl":"ltr"),s.setAttribute("bablic_dir",r),s.bablic_dir=r),bidiInline(s)):s.bablic_dir||setDir(s,r)}l(s),q&&(r=B.pop())}}if(b){triggerEvent("beforeChange"),a.new_content=a.new_content||{},a.usage_report=a.usage_report||{};var q=LDATA.bidi_direction||LDATA.bidi_elements,r=q&&g(b);a.setMutationListen(!1);var s=b,t=f(b,h);if(!t)return void a.setMutationListen(!0);c();var u=t.exclude?null:b,v=t.exclude?b:null,w=[],x=[],y=[],z={_hash:!0},A=[],B=[];for(var C in t){var D=t[C];"exclude"!=C&&(y.push({key:C,value:D,node:b}),z[C]=z[C]||[],z[C].push(D))}j(b);var E=null;if("undefined"!=typeof CompositeEngine&&LDATA.engines[Text.index]){"HTML"==b.tagName?CompositeEngine.mapSegments(document.body):CompositeEngine.mapSegments(b);var F=b;do{if(readNodeAttr(F,"_seg")){E=F;break}F=F.parentNode}while(F.parentNode)}for(;null!=s;){var G=m();if(G||!s.hasChildNodes()||"TEXTAREA"==s.tagName.toUpperCase()||"SVG"==s.tagName.toUpperCase()||"phrase"in z||"exclude"in z)if(s.nextSibling&&s!=b)G||o(),s=s.nextSibling;else{for(;null==s.nextSibling&&s!=b;)G||o(),G=!1,s=s.parentNode;if(o(),s==b)break;s=s.nextSibling}else s=s.firstChild}a.setMutationListen(!0)}},flushMergedNodes=function(){q&&(q=null,h(!0))};var q,r,s=[];mergeContentNodes=function(a){if(!savedContentNodes.length)return void(savedContentNodes=a);var b=savedContentNodes;if(savedContentNodes=a,s.push(b),q){if(Date.now()-r>2e3)return;clearTimeout(q)}else r=Date.now();q=setTimeout(function(){q=null,h(!0)},300)},a._pull=function(){return h(),savedContentNodes},getNodeValue=function(a){return 1==a.nodeType?$.map(a.childNodes,function(a){return 3==a.nodeType?a.nodeValue:null}).join(" "):2==a.nodeType?a.value:a.nodeValue};var t={value:"",src:"",placeholder:"",alt:"",title:"",content:"",href:""};processNodeWithEngine=function(b,c,d,e,f,g){var h=Engines[e].qualifier.call(Engines[e],b,targetLocale,originalLocale,d,c,g);if(h){var i=[],j=!1,k=!$.isArray(h);if(k)h=[h];else if(!h.length)return;var l,m=!1,n=$.map(h,function(b){if(!b.id)return m=!0,b.content;if("translated"in d)return b.content;var c=e+"_"+b.id;if(!(c in LDATA.content))return i.push(b),b.content;var f=LDATA.content[c];return"__empty__"!=f?(LDATA.send_report&&(a.usage_report[c]=(a.usage_report[c]||0)+1),m=!0,f):b.content});(LDATA.edit||SUPPORT_AJAX_NAVIGATE&&"1"==e)&&(l=1==b.nodeType?$(b).html():2==b.nodeType?b.value:b.nodeValue);var o=!m&&$.grep(h,function(a){var b=a.d||a.t;return b&&a.vars?b[0]!=a.vars[0]:!1}).length;if((m||o)&&(Engines[e].replacer.call(Engines[e],b,k?n[0]:n,k?h[0]:h,targetLocale,originalLocale,d,c,g),2==b.nodeType&&attributeObserver(c,b)),i.length&&(!readNodeAttr(b,"bablic_replaced",c)||getNodeValue(b)!==readNodeAttr(b,"bablic_replaced_value",c))){var p={};if(d)for(var q in d)q in u||(p[q]=d[q]);$.each(i,function(a,d){var g=e+"_"+d.id,h=f[g]||{content:d.content,elements:[],nodes:[],markup:{},i:v++,a:!1,h:d.h};if(d.h||delete h.h,h.a=h.a||d.a,h.nodes.push(b),h.elements.push(c),$.extend(h.markup,p),f[g]=h,"1"==e&&LDATA.send_report&&IS_PROPERTIES_SUPPORTED){if(d.c&&!h.c){h.c={};for(var i in d.c){var j=d.c[i];h.c[i]=$.map(j,function(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];d.bablic_c?b.push($.map(d.bablic_c,function(a){return"<n>"+a.id+"</n>"}).join("")):b.push(d.nodeValue)}return b})}}d.vars&&d.vars.length&&!h.v&&(h.v=d.vars)}}),j=!0}if((LDATA.edit||SUPPORT_AJAX_NAVIGATE&&(m||"1"==e))&&(!readNodeAttr(b,"bablic_replaced",c)||getNodeValue(b)!==readNodeAttr(b,"bablic_replaced_value",c))){if(2==b.nodeType){var r=b.parentNode||c;r.bablic_attrs=r.bablic_attrs||[],r.bablic_attrs.push(b)}$.each(h,function(a,f){"1"==e&&1==b.nodeType&&(f.oVal=Engines[e].oVal),savedContentNodes.push({node:b,oVal:f.oVal,isAttr:2==b.nodeType,element:1==b.nodeType?b:b.parentNode||c,hash:e+"_"+f.id,original:d.translated||f.content,vars:f.vars,d:f.d,t:f.t,c:f.c,h:f.h,completeOriginal:l,translation:n[a],restore:function(a,b){Engines[e].restore&&Engines[e].restore(this,a,b,h,n,d),setNodeAttr(a,"bablic_last_value",getNodeValue(a),b)},
replace:function(b,c,f){this.restore(b,c),n[a]=f,Engines[e].replacer.call(Engines[e],b,k?n[0]:n,k?h[0]:h,targetLocale,originalLocale,d,c),setNodeAttr(b,"bablic_last_value",getNodeValue(b),c)},engine:Engines[e]})})}return 0==i.length&&(setNodeAttr(b,"bablic_replaced",!0,c),setNodeAttr(b,"bablic_replaced_value",getNodeValue(b),c)),j}};var u={include:!0,exclude:!0,bidi:!0,phrase:!0};node_to_location=function(a,b,c){if(!b||1!=b.nodeType)return{};var d=$(b);d.attr("bablic-id",c);var e={};return e.id=d.attr("bablic-id"),e},addOMGScript=function(){if(!WIN.omg){a.setMutationListen(!1);var b=DOC.getElementsByTagName("SCRIPT")[0];if(LDATA.edit){var c=DOC.createElement("SCRIPT");c.src=k+"/js/omg3.min.js",b.parentNode.insertBefore(c,b);var d=DOC.createElement("LINK");d.href=k+"/css/omg3.css",d.rel="stylesheet",d.type="text/css",d.className="bablicOMGStyle",d.setAttribute("bablic-exclude","true");var b=DOC.getElementsByTagName("HEAD")[0];b.parentNode.insertBefore(d,b)}a.setMutationListen(!0)}};var v=0;triggerEvent=function(b,c){var d;if(DOC.createEvent?(d=DOC.createEvent("HTMLEvents"),d.initEvent("bablic"+b,!0,!0)):(d=DOC.createEventObject(),d.eventType="bablic"+b),DOC.createEvent)DOC.dispatchEvent(d);else try{DOC.fireEvent("on"+d.eventType,d)}catch(e){a.log("cant fire event "+d.eventType,e)}return Mutation.emit(b,c)}}(bablic);var Text=Engines[1]=function(){var a=/\s+/g,b=/^(?:inline|none)$/i,c="undefined"!=typeof CompositeEngine,d={index:1,name:"text",prepare:function(){var c=this;c.hasLiterals=/(?:^|[.,\-\/\\'”«»"[\]()+*:&%#@!?<>{}\s\r\n^])[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+[\-&\s\r\n]*[^\-.,\/\\'”«»"[\]()+*:&%#@!?<>0-9{}\s\r\n^]+/,c.g=/[.,\-\/\\'”«»"[\]()+*:&%$~#@!?<>{}^]{6}/,c.div=$("<div></div>"),c.attrs={title:!0,placeholder:!0},LDATA.conf&&LDATA.conf.a&&(c.attrs.alt=!0),c.i={button:0,submit:0,reset:0},c.m=LDATA.conf&&LDATA.conf.m&&{description:0,title:0,"og:description":0,"og:title":0,"twitter:title":0,"twitter:description":0,"og:site_name":0},c.split=/(?:\s+[|]\s+|{nl}|{ct[^}]*})/,c.trim=/^[\s\r\n^]*((?:.|\n|\r)*?)[\s\r\n^]*$/,c.mnth={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},c.cmpc=c._mnth={},$.each(c.mnth,function(a,b){c._mnth[b.toLowerCase()]=a,c._mnth[b.toLowerCase().substr(0,3)]=a}),originalLocale&&originalLocale.months&&$.each(originalLocale.months,function(a,b){c._mnth[b.toLowerCase()]=a+1,c._mnth[b.toLowerCase().substr(0,3)]=a+1}),targetLocale&&targetLocale.months&&$.each(targetLocale.months,function(a,b){c.mnth[a+1]=b}),c.dbm=!0;var d=Object.keys(c._mnth);c.nums=RegExp("\\b(?:([0-2]?\\d):([0-5]\\d)\\s*(am|pm)?|(\\d?\\d)[\\/\\-.](\\d?\\d)[\\/\\-.](\\d\\d(?:\\d\\d))?|(?:(\\d\\d?)(st|nd|rd|th)?\\s+)?("+d.join("|")+")(?:\\s*[,\\s]\\s*(\\d\\d\\d\\d)|\\s+(\\d\\d?)(st|nd|rd|th)?(?:\\s*[,\\s]\\s*(\\d\\d(?:\\d\\d))?)?)|\\d(?:[0-9+\\-.,]*\\d)?|(-?\\s?\\d{1,3}(?:\\s\\d{3})*(?:\\.\\d+))|https?:\\/\\/[^\\s]+|[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4})","ig"),c.need_bidi=/(?:^|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])(?:$|[0-9.,\/\\'[\]()+*:&%#@!?<>{}^])/,c.exclude=/<(?:.|\n|\r)*?exclude(?:.|\n|\r)*?>(?:.|\n|\r)*?<(?:.|\n|\r)*?>/gi,c.pm=/pm/i,c.SEG_DEP=2,c.SEG_STEP=/((?:.|\n)*?){(?:t(\d+)|(nl)|(ct[^}]*))}/g,c.itags={SCRIPT:1,STYLE:1,HEAD:1,NOSCRIPT:1,SVG:1,SYMBOL:1,CODE:1,VAR:1,PATH:1,CANVAS:1,LINK:1},c.extractNums=function(a){for(var b,d,e,f=[],g=[],h=0,i=0;e=c.nums.exec(a);){if(f.push(e[0]),LDATA.tf&&e[1]){d=d||{};var j=Number(e[1]),k=Number(e[2]);e[3]&&c.pm.test(e[3])&&(j+=12);var l=LDATA.tf;if(d[i]=l.replace("mm",10>k?"0"+k:k).replace(":m",":"+k),c.pm.test(d[i])){var m=j>11;m?j-=12:d[i]=d[i].replace("PM","AM").replace("pm","am")}d[i]=d[i].replace("hh",10>j?"0"+j:j).replace("h",j)}else if(e[4]||e[9]){b=b||{};var n,o,p,q;if(e[4]?(c.dbm?(p=Number(e[4]),o=Number(e[5])):(p=Number(e[5]),o=Number(e[4])),n=Number(e[6])):(o=Number(c._mnth[e[9].toLowerCase()]),p=Number(e[11]||e[7]),n=Number(e[10]||e[13]),q=e[8]||e[12]),100>n&&(n=(20>n?2e3:1900)+n),LDATA.df){var l=LDATA.df,r=/mmmm|mmm|mm|m|dd|d|yyyy|yy|th/g;b[i]=l.replace(r,function(a){switch(a){case"mmmm":return c.mnth[o];case"mmm":return c.mnth[o].substr(0,3);case"mm":return 10>o?"0"+o:o;case"m":return o;case"dd":return 10>p?"0"+p:p;case"d":return p;case"yyyy":return n||"";case"yy":return n?n%100:"";case"th":return""}})}else if(e[9]){var s=f[i];q&&(s=s.replace(q,"")),b[i]=s.replace(e[9],c.mnth[o])}}g.push(a.substr(h,e.index-h),"{"+i++ +"}"),h=e.index+e[0].length}return h<a.length&&g.push(a.substr(h)),a=g.join(""),{text:a,nums:f,d:b,t:d}},c.stripText=function(b){var d=c.trim.exec(b),b=d&&d[1];if(!b)return null;var e=!1,f=$.map(b.split(c.split),function(b){if(b=c.trim.exec(b)[1],!b)return null;if(c.g.test(b.replace(/\.+/g,".")))return null;var d=c.extractNums(b),f=c.hasLiterals.test(d.text);if(f&&LDATA.block&&(f=!LDATA.block.test(d.text)),!d.d&&!d.t&&!f)return null;for(var g=0,h=0;h<d.nums.length;h++)g+=d.nums[h].length;return b.length!=g&&f?(e=!0,{id:bablicHash(d.text.toLowerCase().replace(a," ")),content:d.text,vars:d.nums.length&&d.nums,d:d.d,t:d.t,a:!0}):{content:d.text,vars:d.nums,d:d.d,t:d.t,a:!1}});return f.length&&f},c.isSeg=function(a){if(b.test($(a).css("display"))&&(a=a.parentNode,b.test($(a).css("display"))))return!1;for(var c=0,d=!1,e=0;e<a.childNodes.length;e++){var f=a.childNodes[e];if(1==f.nodeType){if(c++,!b.test($(f).css("display")))return!1}else 3==f.nodeType&&/[^-\s]/.test(f.nodeValue)&&(d=!0)}return!!(c>1||c>0&&d)}},qualifier:function(a,b,d,e,f,g){if(f&&f.tagName&&f.tagName.toUpperCase()in this.itags)return null;!c&&f&&a==f.firstChild&&"undefined"==typeof readNodeAttr(f,"_seg")&&setNodeAttr(f,"_seg",this.isSeg(f));var h=this;switch(a.nodeType){case 3:if(c){if(g)return null}else if(f&&readNodeAttr(f,"_seg"))return null;var i=h.stripText(a.nodeValue);return i&&setNodeAttrIf&&setNodeAttrIf(a,"bablic_c",i),i&&"TITLE"==f.tagName&&$.each(i,function(a,b){b.h=!0}),i;case 2:var j=(a.nodeName||"").toLowerCase();if(j in this.attrs||"value"==j&&f&&"input"==(f.tagName||"").toLowerCase()&&f.attributes.type&&(f.attributes.type.value||"").toLowerCase()in this.i){if("iframe"==(f.tagName||"").toLowerCase())return;var i=h.stripText(a.value);return i&&"value"!=j&&"placeholder"!=j&&$.each(i,function(a,b){b.h=!0}),i}return null;case 1:if(this.m&&"META"===a.tagName){var k=(a.getAttribute("name")||"").toLowerCase()||(a.getAttribute("property")||"").toLowerCase()||(a.getAttribute("itemprop")||"").toLowerCase();if(k in this.m){var l=e.translated||a.getAttribute("content")||a.getAttribute("value"),i=h.stripText(l);return i?($.each(i,function(a,b){b.h=!0,b.m=!0}),i):null}return null}if(e&&"phrase"in e){var m=$(a).html();if(e.phrase&&"true"!=e.phrase&&"false"!=e.phrase)return[{id:bablicHash(e.phrase),content:m,a:!0,v:e.phrase}];for(var n,o=[];n=h.exclude.exec(m);)o.push(n[0]);return $.each(o,function(a,b){m=m.replace(b,"{"+a+"}")}),[{id:bablicHash(m.toLowerCase()),content:m,vars:o.length&&o,a:!0}]}if(c){if(g==f){var p=CompositeEngine.buildDOMTree(f);if(p.isEmpty())return null;var q=p.toString(!0),i=h.stripText(q);return i?(this.tree=p,this.oVal=q,i):null}return null}if(readNodeAttr(f,"_seg")){var r=0,s=[],t={};this._seg=!1;for(var u=f.firstChild,v=!0;u;)3==u.nodeType?(v=!0,s.push(u.nodeValue)):8==u.nodeType?(v=!0,s.push("{ct"+(u.nodeValue||"").replace(/}/g,"__close__")+"}")):"BR"==u.tagName?(v=!0,s.push("{nl}")):(v&&s.push("{t"+ ++r+"}"),(t[r]=t[r]||[]).push(u),v=!1),u=u.nextSibling;var w=s.join("");this.oVal=w;var i=h.stripText(w);return i&&i.length&&$.each(i,function(a,b){b&&(b.c=t)}),i}return null}},replacer:function(a,b,d,e,f,g,h){var i=1!=a.nodeType?2==a.nodeType?a.value:a.nodeValue:"phrase"in g?$(a).html():"META"==a.tagName?a.getAttribute("content")||a.getAttribute("value")||"":this.oVal,j=1==a.nodeType;$.each(d,function(a,c){var d=b[a];d=d.replace(/^(__nl__)+/,"").replace(/(__nl__)+$/,"");var e=c.content;c.tmp&&e==d&&(e=d=c.tmp),c.vars&&$.each(c.vars,function(a,b){var f=c.t&&c.t[a]||c.d&&c.d[a]||b;d=d.replace(RegExp("\\{"+a+"\\}","g"),f),e=e.replace(RegExp("\\{"+a+"\\}","g"),b)}),i=i.replace(e,d)});var k=!1,l=i.replace(/\n/g,"").replace(/__nl__/gi,function(){return k=!0,"\n"});if(k){i=l;var m=$(h).css("white-space");"pre"==m||"pre-line"==m||"nowrap"==m||h.style.whiteSpace||(h.style.whiteSpace="pre-line",h._bWS=a)}else h._bWS==a&&(h.style.whiteSpace="",delete h._bWS);if(j)if("phrase"in g)$(a).html(i);else if("META"==a.tagName)a.setAttribute("content",i);else{if(c){var n=this.tree;return n?void CompositeEngine.replaceDOMTree(n,i):console.error("Problem with segment manipulating",a)}for(var o=LDATA.edit||doesSupportAjaxReplace(),p={},q=[],r=[],s=[],t=a.firstChild,u=0,v=[],w=!0;t;){var x=t.nextSibling;3==t.nodeType?(s.push(t),w=!0):8==t.nodeType?(r.push(t),w=!0):1==t.nodeType&&("BR"==t.tagName?(q.push(t),w=!0):(w?p[++u]=[t]:p[u].push(t),w=!1,o&&(t.order||(t.order=[u,p[u].length-1]),v.push(t))),o&&1==t.nodeType&&t.removeAttribute("hidden")),t&&a.removeChild(t),t=x}o&&(p={},v.forEach(function(a){p[a.order[0]]=p[a.order[0]]||[],p[a.order[0]][a.order[1]]=a}));for(var y;y=this.SEG_STEP.exec(i+"{t0}");){var z=y[1],A=y[2];if(z){var B=s.shift()||document.createTextNode(z);B.nodeValue=z,a.appendChild(B)}if(A){if("0"!=A){var C=p[A];C&&$.each(C,function(b,c){a.appendChild(c)})}}else if(y[3]){var D=q.shift()||document.createElement("BR");a.appendChild(D)}else{var E=y[4].substr(2).replace(/__close__/g,"}"),F=r.shift()||document.createComment(E);a.appendChild(F)}}if(o)for(var G in p)for(var u=0;u<p[G].length;u++)p[G][u].parentNode!=a&&(p[G][u].setAttribute("hidden",""),a.appendChild(p[G][u]))}else 2==a.nodeType?a.value=this.div?this.div.html(i).text():i:a.nodeValue=this.div?this.div.html(i).text():i;if(h&&LDATA.bidi_elements){var z=$.trim(j?$(a).html():2==a.nodeType?a.value:a.nodeValue);this.need_bidi.test(z)&&this.hasLiterals.test(z)&&($(h).css("direction",LDATA.bidi_elements),h.dir=LDATA.bidi_elements)}},restore:function(a,b,c,d,e,f){if(1==b.nodeType){this.oVal=a.oVal,!this.oVal&&d.length&&(this.oVal=d[0].oVal);var g=d.map(function(a){return a.content}),h=e.map(function(a){return{content:a}});this.replacer(b,g,h,targetLocale,originalLocale,f,c)}else 2==b.nodeType?b.value=a.completeOriginal:b.nodeValue=a.completeOriginal}};return d}(),CSS=Engines[2]={index:2,name:"css",qualifier:function(a,b,c){return 1==a.nodeType&&"HEAD"==a.tagName?{id:bablicHash(bablic.Site),content:"<style type='text/css' id='bablic_site_css'></style>",a:!0}:null},replacer:function(a,b,c,d,e,f){var g=$.byId("bablic_site_css");if(g.length()){var h=b.replace(/<.*?>/g,"");if(g.html()==h)return;g.html(h)}else $(a).append(b)},restore:function(a,b,c){$.byId("bablic_site_css").remove()}},IMAGE_META={"og:image":1,"twitter:image":1},Images=Engines[3]={index:3,name:"images",prepare:function(){this.r=/url\("?(.+?)"?\)/,this.a=/load.*\.gif/i,this.b=/blank\.(gif|png|jpe?g)$/i},qualifier:function(a,b,c,d,e){var f=null,g=!1;if(2==a.nodeType&&"src"==a.nodeName.toLowerCase()&&("IMG"==e.tagName||"INPUT"==e.tagName&&"image"==e.getAttribute("type"))&&e.parentNode&&"HEAD"!=e.parentNode.tagName)f=a.value;else if(1==a.nodeType)if("META"==a.tagName&&a.getAttribute("property")in IMAGE_META)f=a.getAttribute("content"),g=!0;else{var h=$(a).css("background-image"),i=h&&this.r.exec(h);f=i&&i[1]}if(f&&"none"!=f){if(this.a.test(f))return null;WIN.BABLIC_R&&(f=f.replace(BABLIC_R,BABLIC_V));var j=f.replace(/^(?:https?:)?\/\//i,"");return LDATA.conf&&LDATA.conf.iq||(j=j.split("?")[0]),this.b.test(j)?null:{id:bablicHash(j),content:f,m:g}}return null},replacer:function(a,b){if(2==a.nodeType)a.value!=b&&(a.value=b);else{var c=this.r.exec($(a).css("background-image"));c&&c[1]!=b&&$(a).css("background-image",'url("'+b+'")')}},restore:function(a,b,c,d,e,f){this.replacer(b,d[0].content)}},UrlEngine=Engines[4]={index:4,name:"url",prepare:function(){this.p=/\b[^.,\/\\'[\]()+*:&%#@!?<>0-9x{}\s\n^]{2}/,this.h=/^http/i,this.l=/^\/(\w\w(?:_\w\w)?)\//,this.meta_tags={title:!0,description:!0,keywords:null};var a=location.hostname.split(".");this.d=a.slice(a.length-2).join("."),this.f=DOC.createElement("A")},qualifier:function(a,b,c,d,e){if(1!=a.nodeType)return null;if(d&&"ignore"==d.url)return null;var f;if("A"==a.tagName)f=a;else{if("IFRAME"!=a.tagName)return null;this.f.setAttribute("href",a.src),f=this.f}var g="mailto:"==f.protocol||f.hostname&&f.hostname!=location.hostname&&f.hostname.lastIndexOf(this.d)!=f.hostname.length-this.d.length;if(g){var h=f.href;return{id:bablicHash(f.hostname+f.pathname+(f.search||"")),content:h}}return"A"==a.tagName?d&&d["switch"]?null:"subdir"==LDATA.locale_detection?a.hostname!=location.hostname?null:a.protocol!=location.protocol?null:this.l.test(a.pathname)?null:(a.pathname="/"+b.locale+a.pathname,null):("subdomain"==LDATA.locale_detection&&a.hostname&&a.hostname!=location.hostname&&a.hostname.lastIndexOf(this.d)==a.hostname.length-this.d.length&&(a.href=bablic.getLink(b.locale,a.hostname,a.href)),null):"IFRAME"==a.tagName?(this.f.setAttribute("href",a.src),"subdomain"==LDATA.locale_detection&&this.f.hostname&&this.f.hostname!=location.hostname&&this.f.hostname.lastIndexOf(this.d)==this.f.hostname.length-this.d.length&&(a.src=bablic.getLink(b.locale,this.f.hostname,this.f.href)),null):null},replacer:function(a,b,c,d,e,f){a.setAttribute("href",b)}},CLEAN_FONTS=/typekit|googleapis/i,CLEAN_PATHS=/slick\.css|slider|carousel/i,Bidi=Engines[5]={index:5,name:"bidi",qualifier:function(a,b,c){if(1==a.nodeType&&"LINK"==a.tagName&&"stylesheet"==(a.getAttribute("rel")||"").toLowerCase()&&-1==(a.className||"").indexOf("bablic")&&-1==(a.id||"").indexOf("bablic")){this.a=this.a||$("<a></a>");var d=a.getAttribute("href"),e=this.a.attr("href",d).get(0),f=e.href,g=/:\/\/([^/]*)([^?#]*)/.exec(f);if(!g)return null;var h=g[1],i=g[2];if(CLEAN_FONTS.test(h))return null;var j=h==WIN.location.hostname?i:f;return CLEAN_PATHS.test(j)?null:(WIN.BABLIC_R&&(j=j.replace(BABLIC_R,BABLIC_V),f=f.replace(BABLIC_R,BABLIC_V)),{id:bablicHash(j),content:f,a:!0})}if(1==a.nodeType&&"STYLE"==a.tagName&&-1==(a.className||"").indexOf("bablic")&&-1==(a.id||"").indexOf("bablic")){var k=$(a).html(),l=WIN.location.href.split(/\?#/)[0];return WIN.BABLIC_R&&(l=l.replace(BABLIC_R,BABLIC_V)),{id:bablicHash(k),content:l+"BAB_SEP"+k,a:!0}}return null},replacer:function(a,b,c,d,e,f){if(/^(http|\/)/.test(b)){var g=c.id;if(WIN._bablicScriptLoad=WIN._bablicScriptLoad||{},!(g in WIN._bablicScriptLoad)){var h=$('<style type="text/css" class="bablicBidiHideStyle" bablic-exclude="true">body{visibility:hidden !important;}</style>').appendTo("head"),i=function(){bablic.setMutationListen(!1),h.remove(),h=null,bablic.setMutationListen(!0)};WIN._bablicScriptLoad[g]=function(b){bablic.setMutationListen(!1),k&&b.attr("media",k),b&&b.insertBefore(a),$(a).remove(),i(),delete WIN._bablicScriptLoad[g],bablic.setMutationListen(!0)};var j=DOC.createElement("SCRIPT");j.src=b,j.onerror=i,j.className="bablicStyleScript",j.setAttribute("type","text/javascript"),j.setAttribute("charset","UTF-8");var k=a.getAttribute("media");a.parentNode.insertBefore(j,a)}}},restore:function(){}},detectBrowserLocale,pageUri,normalizedCurrentPath,doesSupportAjaxReplace,LocaleSettings;!function(bablic){function parseURL(a){var b=DOC.createElement("div");b.innerHTML="<a></a>",b.firstChild.href=a,b.innerHTML=b.innerHTML;var c=b.firstChild;return{href:c.href,pathname:c.pathname,hostname:c.hostname,query:c.search,hash:c.hash}}function switchLocaleAjax(a,b){if(a!=bablic.locale&&!locked){b=b||bablic.getLink(a);var c=function(b){if(a in localeLDATAs)return LDATA=localeLDATAs[a],siteConfReceived(LDATA),b();LDATA={content:{}},bablic.locale=a,locked=!0;var c=++fetchRevision;fetchSequence(c,function(a,d,e){locked=!1,c==fetchRevision&&(e&&translationReceived(e,!0),b(a),ping({shouldHide:!1,stats:d,detectedLocale:bablic.detectedLocale,path:normalizedCurrentPath(),nonBlocking:!1}))},!0)},d=!bablic._processed,e=a==bablic.original,f=parseURL(b);bablic.replaceState?bablic.replaceState(null,null,f.pathname+(f.query||"")+(f.hash||"")):history.replaceState(null,null,f.pathname+(f.query||"")+(f.hash||"")),c(function(){if(d){var a=savedContentNodes;return savedContentNodes=[],runHeadEngines(),bablic._processed=!0,domTraverse($.byTag("html").get(0),bablic.UseInclude),void mergeContentNodes(a)}if(!savedContentNodes)return bablic.error("Error on ajax navigate");for(var b=0;b<savedContentNodes.length;b++){var c=savedContentNodes[b].node,f=savedContentNodes[b].element;if(savedContentNodes[b].engine!=Engines[5])if(e)savedContentNodes[b].restore(c,f);else{var g=LDATA.content[savedContentNodes[b].hash];g&&"__empty__"!=g?savedContentNodes[b].replace(c,f,g):savedContentNodes[b].restore(c,f)}}})}}function getLocaleSettings(a){var b=LocaleSettings[a];return b||(b=LocaleSettings[a]={}),b}bablic.version=3.1,bablic.getLocale=function(){return bablic.locale},bablic.detectLocale=function(a){a=a||LDATA;var b=a||LDATA||bablic.data||{},c=PROXY?"subdomain":bablic.localeURL||b.localeDetection;if(!c)return null;var d="http://"+pageUri(),e=parseURL(d),f=b.customUrls||{};if(a)for(var g=0;g<a.locales.length;g++)f[a.locales[g].key]=a.locales[g].url;var h=null;if(b.autoDetect!==!1){var i=b.localeKeys||a&&a.locales&&$.map(a.locales,function(a){return a.key});if(i&&(i.push(b["default"]||b.orig||b.original||bablic.original),h=detectBrowserLocale(),h&&-1==i.indexOf(h))){for(var j=!1,k=0;k<i.length;k++)if(i[k][0]==h[0]&&i[k][1]==h[1]){j=!0;break}j||(h=null)}}var l=getLocaleByURL(e,c,f,bablic.locale,b["default"]||b.orig||b.original||bablic.original,h,bablic.proxy);return LocaleSettings[l]&&LocaleSettings[l].hide?b.orig||b.original||bablic.original:l},detectBrowserLocale=function(){var a=WIN.navigator.userLanguage||WIN.navigator.language;return a?a.split("-")[0]:null},pageUri=function(a){var b=bablic.subDomain?"/"+bablic.subDomain:"";return(a?"":location.hostname+location.port)+b+location.pathname+location.search+location.hash},normalizedCurrentPath=function(a){var b=LDATA||bablic.data||{};return b.localeKeys?normalizePath(pageUri(!0),bablic.localeURL||b.localeDetection,b.includeQueryString,b.includeHash,b.singlePageApp,b.localeKeys,b.qsParams)+(a?"__async__":""):pageUri(!0)+(a?"__async__":"")},bablic.useLocalDB="boolean"==typeof bablic.useLocalDB?bablic.useLocalDB:!1,bablic.mutation_listen_off=0,bablic.setMutationListen=function(a){bablic.mutation_listen_off+=a?-1:1},bablic.suppress=function(a){bablic.setMutationListen(!1),a(),bablic.setMutationListen(!0)};var SUB_DIR=/^(\/(\w\w(_\w\w)?))(?:\/|$)/;bablic.getLink=function(a,b,c,d,e,f){var g=LDATA||bablic.data||{},h=g["default"]||g.original||g.orig||bablic.original,i="javascript:void(0);";if(e=e||targetLocale,f=f||LDATA&&LDATA.localeDetection||bablic.data&&bablic.data.localeDetection,"custom"==f||d){if(e&&e.url)if(d){var j=bablic.getLink(h,b,c),k=$('<a href="'+j+'"></a>').get(0),l=k.hostname,m=e.url;"/"!=e.url[0]&&(l=e.url.split("/")[0],m=e.url.replace(l,""),LDATA&&LDATA.edit&&(l=l.replace(/_/g,"__").replace(/\./g,"_")+"_pipe.bablic.com")),i="//"+l+(k.port&&80!=Number(k.port)?":"+k.port:"")+m+k.search}else{var n=(b||WIN.location.hostname)+(-1==e.url.indexOf("/")?"":WIN.location.pathname);i=(c||WIN.location.href).replace(n,e.url)}}else if("querystring"==f||"browser"==f){var o=(c||WIN.location.href).split("#")[0];i=/[?&]locale=([^&]+)/.test(o)?o.replace(/([?&]locale=)([^&]+)/,"$1"+a):/\?/.test(o)?o+"&locale="+a:o+"?locale="+a}else if("subdomain"==f){var p=LDATA&&LDATA.edit?"_":".",q=LDATA&&LDATA.edit?"_":"\\.",r=RegExp("(www"+q+")?(?:(?:\\w\\w(?:_\\w\\w)?)"+q+")?(.+?)$").exec(b||WIN.location.host),s=(e&&e.www?"www"+p:"")+(e&&e.s&&e.s+p||(a==h?"":a+p))+r[2];i=(c||WIN.location.href).replace(b||WIN.location.host,s)}else{if("subdir"==f){var k=$('<a href="'+(c||WIN.location.href)+'"></a>').get(0),t=k.pathname,u=SUB_DIR.exec(t);u&&(t=t.substr(u[1].length),0==t.length&&(t="/"));var v=a==h?"":"/"+a;return k.protocol+"//"+k.hostname+v+t+(k.search||"")+(k.hash||"")}"hash"==f&&(i=(c||WIN.location.href).split("#")[0]+"#locale_"+a)}return i};var locked=!1;doesSupportAjaxReplace=function(){return WIN.history&&WIN.history.replaceState&&IS_PROPERTIES_SUPPORTED&&LDATA.ajaxWidget&&!LDATA.edit&&"subdomain"!=LDATA.localeDetection&&"custom"!=LDATA.localeDetection&&"tld"!=LDATA.localeDetection},bablic.redirectTo=function(a){if(LocalDB.setSync("locale",a,!0),a!=bablic.locale){var b=triggerEvent("change",[a]);if(b===!1)return!1}var c=locales&&$.grep(locales,function(b){return b.key==a})[0],d=targetLocale&&targetLocale.engines&&targetLocale.engines.indexOf(5)>-1;targetLocale=c;var e=bablic.getLink(a);if(doesSupportAjaxReplace()&&targetLocale){var f=targetLocale&&targetLocale.engines&&targetLocale.engines.indexOf(5)>-1;if(d==f)return switchLocaleAjax(a,e)}WIN.location.href=e,"hash"==bablic.localeDetection&&WIN.location.reload(),bablic.locale=a},bablic.trigger=triggerEvent,WIN.console||(WIN.console={log:function(a){},error:function(a){}}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)b.push(c);return b}),bablic.debugServer&&(bablic.debug=!0),bablic.log=bablic.debug?function(a){WIN.console.log.apply?WIN.console.log.apply(console,arguments):WIN.console.log(arguments[0])}:function(){},bablic.error=bablic.debug?function(a){WIN.console.error.apply?WIN.console.error.apply(console,arguments):WIN.console.error(arguments[0])}:function(){},bablic.markup=addMarkupByCode,bablic.exclude=excludeByCode,bablic.include=includeByCode,bablic.on=bablic.Mutation.on,bablic.off=bablic.Mutation.unbind,bablic.registerKey=function(){$(DOC).on("keydown",function(e){if(e.shiftKey&&e.altKey&&(66==e.keyCode||76==e.keyCode)){if(e.preventDefault(),bablic.editThisSite)return bablic.editThisSite();bablic.on("sdkload",function(){bablic.editThisSite()}),ajaxGet("https://s.bablic.com/dist/js/sdk.min.js?r=21",null,function(rsp){eval(rsp)})}})},LocaleSettings={},bablic.hideLanguage=function(a){a!=bablic.original&&(getLocaleSettings(a).hide=!0,bablic.locale==a?switchLocaleAjax(bablic.original):showFlags())}}(bablic);var build_query_string,send_usage_report,send_ldata_report,setZIndex,runHeadEngines,siteConfReceived,translationReceived,fetchSequence,parallel,parallelEach,getConf,getPageTranslations,locale,locales,targetLocale,originalLocale,MOBILE,ping,HAS_ANGULAR=!1,SUPPORT_AJAX_NAVIGATE=!1,fetchRevision=0,localeLDATAs={};!function(a){function b(){return $.byTag("html").html().replace(/<!--(.|\n)*?-->/gi,"").replace(/<script.*?>(.|\n)*?<\/script>/gi,"")}function c(b){if(b){a.log("fallabck response: "),a.log(b);var c=WIN.omg&&!!omg.translationReceived,d=!1,e={};for(var f in b)"__empty__"!=b[f]&&(LDATA.content[f]&&"__empty__"!=LDATA.content[f]||(d=!0,LDATA.content[f]=b[f],e[f]=b[f],c&&omg.translationReceived(f,b[f])));if(d){if(flushMergedNodes(),savedContentNodes.length){a.setMutationListen(!1);for(var g=0;g<savedContentNodes.length;g++)if(savedContentNodes[g].hash in e){var h=savedContentNodes[g].node,i=savedContentNodes[g].element;savedContentNodes[g].replace(h,i,e[savedContentNodes[g].hash])}a.setMutationListen(!0)}else{var j=savedContentNodes;savedContentNodes=[],_forceTraverse=!0,DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),a.UseInclude),runHeadEngines(),_forceTraverse=!1,mergeContentNodes(j)}R()}}}function d(b,d){C&&(d=!0);var e={};$.each(b,function(b,c){a.new_content&&a.new_content[c]&&!a.new_content[c].f&&(e[c]=null,a.new_content[c].f=!0)});var b=Object.keys(e);b.length&&LocalDB.getByIds(b,function(b,f){b&&a.error(b);var g={};if(f){g=f;for(var h in f)g[h]=f[h],delete e[h]}if(D=D||(LocalDB.getSync("unused")||"").split(","))for(var i=0;i<D.length;i++)delete e[D[i]];var j=Object.keys(e);return j.length?(z=!0,void ajaxPost("/api/engine/fallback",{content:j,async:!d},function(a){$.extend(g,a),c(g),LocalDB.setByPage(a,normalizedCurrentPath(!d)),setTimeout(function(){D=D||[];var b=D.length;for(var c in a)delete e[c];for(var d in e)D.push(d);b!=D.length&&LocalDB.setSync("unused",D.join(","))},1)})):c(g)})}function e(){g("scanningMessage"),Q=null}function f(){g("turnedOff"),Q=function(){LocalDB.setSync("turnedOff","true",!0)}}function g(a){if(!$.byId("bablicMessage").length()){var b=WIN.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.onreadystatechange=function(){if(200===b.status&&4===b.readyState){var a=DOC.createElement("iframe");a.id="bablicMessage",a.className="bablicMessage",a.setAttribute("bablc-exclude","true"),a.width="100%",a.height="52px",a.style.border="none",a.style.position="fixed",a.style.top=0,a.style.left=0,setZIndex(a);var c=DOC.body;c.insertBefore(a,c.firstChild);var d=b.responseText;try{a.contentWindow.document.open(),a.contentWindow.document.write(d),a.contentWindow.document.close()}catch(e){a.contentWindow.location.href="data:text/html;charset=utf-8,"+encodeURIComponent(d)}$(a).on("click",function(){a.parentNode.removeChild(a)})}},b.open("GET",location.protocol+"//uploads.bablic.com/html/"+a+".html",!0),b.send()}}function h(){$.byClass("bablicMessage").remove(),Q&&Q(),Q=null}function j(){$.byClass("bablicMessage").css("box-shadow","0px 0px 15px #178FC2")}function k(){$.byClass("bablicMessage").css("box-shadow","")}function l(){if(!a.hidden&&!a.hidingStyle){U=Date.now(),a.hidden=!0;try{a.hidingStyle=DOC.createElement("style"),a.hidingStyle.className="bablicHideTag",a.hidingStyle.type="text/css",a.hidingStyle.innerHTML="body{visibility: hidden; !important}";var b=DOC.getElementsByTagName("script")[0];b.parentNode.insertBefore(a.hidingStyle,b)}catch(c){}}}function m(a){if(DOC.body)return a();var b=!1,c=DOC.addEventListener||DOC.attachEvent,d=DOC.removeEventListener||DOC.detachEvent,e=DOC.addEventListener?"DOMContentLoaded":"onreadystatechange";c.call(DOC,e,function(){d.call(DOC,e,arguments.callee,!1),b||a(),b=!0},!1)}function n(){var a=targetLocale.engines||[];LDATA.engines={};for(var b=0;b<a.length;b++)LDATA.engines[a[b]]=Engines[a[b]];for(var c in LDATA.engines)LDATA.engines[c].prepare&&LDATA.engines[c].prepare.call(LDATA.engines[c]);LDATA._e={},LDATA.engines&&"2"in LDATA.engines&&(LDATA._e[2]=LDATA.engines[2],delete LDATA.engines[2]),LDATA.engines&&"5"in LDATA.engines&&(LDATA._e[5]=LDATA.engines[5],delete LDATA.engines[5])}function o(){if(WIN.angular&&(HAS_ANGULAR=!0),a.ldata=LDATA,SUPPORT_AJAX_NAVIGATE=doesSupportAjaxReplace(),locales=a.locales=LDATA.locales,locale=LDATA.locale,targetLocale=$.grep(locales,function(a){return a.key==locale})[0],originalLocale=$.grep(locales,function(a){return a.key==LDATA.orig})[0],MOBILE=a.mobile=Modernizr.touch&&$.window.width()<700||WIN.top.editor&&"mobile"==WIN.top.editor.device(),a.locale=LDATA.locale,a.targetLocale=targetLocale,a.originalLocale=originalLocale,a.original=LDATA.def||LDATA.orig,localeLDATAs[a.locale]=LDATA,a.dontUseCookie=a.dontUseCookie||LDATA.dontUseCookie,a.locale&&(LocalDB.getSync("locale",!0)||a.locale!=a.original&&doesSupportAjaxReplace()&&a.replaceState(null,null,a.getLink(a.locale)),LocalDB.setSync("locale",a.locale,!0)),a.locale_detection=LDATA.localeDetection,LocalDB.setSync("original",LDATA.def||LDATA.orig,!0),a.setMutationListen(!1),WIN.parent&&WIN.parent!=WIN&&WIN.parent.bablic&&!WIN.parent.bablic.isAdmin||a.showFlags(),p(),LDATA.bidi){var b=originalLocale.dir!=targetLocale.dir;b&&setDir($.byTag("html"),targetLocale.dir||"ltr")}$.byId("bablic_font_css").remove(),targetLocale&&targetLocale.font&&$.byTag("head").append("<style type='text/css' id='bablic_font_css' bablic-exclude>*{ font-family:"+targetLocale.font+" !important;}</style>"),a.setMutationListen(!0)}function p(){$.byTag("html").attr("lang",a.locale);var b=$("head meta[http-equiv]");b.length()&&(b=$('<meta http-equiv="Content-Language">').appendTo("head")),b.attr("content",a.locale)}function q(){getPageTranslations(!0,function(b,d){return b?a.error(b):void c(d)})}function r(b,c,d){var e=Date.now();LocalDB.getByPage(b+"_"+c,function(b,c){a.log("indexdb ",Date.now()-e),d(b,c)})}function s(a,b,c){LocalDB.setByPage(c,a+"_"+b)}function t(b,c,d){fetchFromCDN("/page/"+a.Site+"/"+a.locale+"/"+encodeURIComponent(b),a.locale+"_"+b,c,function(b,c){if(b)return d(b);var e=c.translations;if(e){var f={};for(var g in e)for(var h in e[g])f[g+"_"+h]=e[g][h];e=f}if(d(null,e),e&&LDATA){var i=normalizedCurrentPath();s(a.locale,i,e),LocalDB.setSync("@"+a.locale+"_"+i,LDATA.timestamp)}})}function u(b,c){fetchFromCDN("/conf/"+a.Site+"/"+a.locale,a.locale+"",!1,function(d,e){if(d)return c(d);var f=e.conf,g=e.resources;if(f=decodeConf(f),b==fetchRevision&&siteConfReceived(f),g){var h={};for(var i in g)for(var j in g[i])h[i+"_"+j]=g[i][j];g=h}c(null,g),b==fetchRevision&&LocalDB.setConf(e.conf),g&&(LocalDB.setSync("global"+a.locale,f.timestamp),s(a.locale,"*",g))})}function v(a){var b=a.content,c={},d=!1;for(var e in b)if(42==e.length){d=!0;var f=e.split("_"),g=f[1],h=[];for(i=0;i<20;i++)h.push(String.fromCharCode((parseInt(g[2*i],16)<<4)+parseInt(g[2*i+1],16)));var j=btoa(h.join(""));c[f[0]+"_"+j]=b[e]}else c[e]=b[e];d&&(a.content=c)}function w(){document.body.setAttribute("notranslate","notranslate"),$.byId("localize-widget").remove();var a=function(b){b.target&&"localize-widget"==b.target.id&&b.target.parentNode&&(b.target.parentNode.removeChild(b.target),$(DOC.body).off("DOMNodeInserted",a))};$(DOC.body).on("DOMNodeInserted",a)}var x=144e7;DOC.getElementById("BABLIC_CHECK")&&(a.preview=!0);var y=!1;build_query_string=function(){return"s="+a.Site+(a.locale?"&l="+a.locale:"")+"&uri="+encodeURIComponent(pageUri())+"&v="+a.version+(a.localeURL?"&ld="+a.localeURL:"")+(a.preview?"&preview="+encodeURIComponent(a.preview):"")};var z,A,B,C=!0,D=null;send_usage_report=function(){$.isEmptyObject(a.usage_report)||B&&Date.now()-B>2e4||(A&&clearTimeout(A),B||(B=Date.now()),A=setTimeout(function(){if(B=null,A=null,a.usage_report){for(var b in LDATA.content)a.usage_report[b]=a.usage_report[b]||0;ajaxPort("/api/usage",{content:a.usage_report,is_first:!y}),a.usage_report=null,y=!0}},7e3))};var E,F,G,H,I=500,J=2e5,K=2,L=500,M={},N=function(f){if(LDATA.machine){var g=[];for(var h in LDATA.content)"1"!=h[0]||"__empty__"!=LDATA.content[h]||M[h]||(g.push(h),M[h]=!0);$.isEmptyObject(g)||ajaxPost("/api/engine/machine",{content:g},function(a){a&&c(a)})}if(!$.isEmptyObject(a.new_content)){var i,j=function(){if(i)return i;i={};for(var a in LDATA.content)i[LDATA.content[a]]=a;return i},k=[];for(var h in a.new_content)if(0!=h.indexOf("3_")&&0!=h.indexOf("4_")&&0!=h.indexOf("2_")&&a.new_content[h].a&&!V.test(a.new_content[h].content)){var l=!1,m=j();if(a.new_content[h].content in m)l=!0;else for(var n=0;n<a.new_content[h].nodes.length;n++){if(readNodeAttr(a.new_content[h].nodes[n],"bablic_dirty",a.new_content[h].elements[n])){l=!0;break}if(readNodeAttr(a.new_content[h].nodes[n],"bablic_replaced",a.new_content[h].elements[n])&&readNodeAttr(a.new_content[h].nodes[n],"bablic_replaced_value",a.new_content[h].elements[n])==getNodeValue(a.new_content[h].nodes[n])){l=!0;break}}l||k.push(h)}if(!k.length)return void(a.new_content=null);if(!LDATA.edit&&LDATA.fallback&&k.length<L&&d(k,f),LDATA.report){var o=k.length;o!=F&&(F=o,clearTimeout(E),E=setTimeout(function(){if(a.new_content){for(var d=0,g=a.sendPerRequest||I,h=a.maxRequest||J,i={},j=0;j<k.length&&!(j>g);j++){var l=k[j];if(!(l in LDATA.content)&&a.new_content[l]){var m={content:a.new_content[l].content,places:[],i:a.new_content[l].i,c:a.new_content[l].c,v:a.new_content[l].v,h:a.new_content[l].h};if(a.new_content[l].m&&(m.m=!0),a.new_content[l].markup&&!$.isEmptyObject(a.new_content[l].markup)&&(m.markup=a.new_content[l].markup),a.new_content[l].nodes)for(var n=0;n<a.new_content[l].nodes.length;n++)setNodeAttr(a.new_content[l].nodes[n],"bablic_replaced",!0,a.new_content[l].elements[n]),setNodeAttr(a.new_content[l].nodes[n],"bablic_replaced_value",getNodeValue(a.new_content[l].nodes[n]),a.new_content[l].elements[n]),m.places.length<K&&a.new_content[l].nodes[n]&&a.new_content[l].elements[n]&&m.places.push(node_to_location(a.new_content[l].nodes[n],a.new_content[l].elements[n],l));if(d+=WIN.JSON&&WIN.JSON.stringify?JSON.stringify(m).length:2*m.content.length,d>h)break;i[l]=m}}if(!$.isEmptyObject(i)){
a.Mutation.emit("sendReport"),LDATA.owner&&e();var o=!$.isEmptyObject(i)&&Object.keys&&Object.keys(i).length>15?b():"";ajaxPost("/api/engine/record",{content:i,html:o,async:!f},function(b){F=0,a.Mutation.emit("afterReport",[f]),b&&c(b)}),a.new_content=null}a.new_content=null}},500))}}},O=2e3,P=200;send_ldata_report=function(a){if(IS_PROPERTIES_SUPPORTED){if(a)return N(!0);if(C&&(a=!0),G){if(Date.now()-H>O)return;clearTimeout(G)}else H=Date.now();G=setTimeout(function(){G=null,N(a)},P)}};var Q;setZIndex=function(a){for(var b=[1e17,999999999999999,999999999999,9999999],c=0;c<b.length;b++)try{return void(a.style.zIndex=b[c])}catch(d){}},a._m=[h,j,k];var R=function(){T||(T=Date.now()-U);var b=DOC.getElementById("bablicLink");b&&b.parentNode&&b.parentNode.removeChild(b),$.byClass("bablicHideStyle").remove(),a.hidingStyle&&(a.setMutationListen(!1),a.hidingStyle&&a.hidingStyle.parentNode&&(a.hidingStyle.parentNode.removeChild(a.hidingStyle),a.hidingStyle=null),a.setMutationListen(!0))};runHeadEngines=function(b){if("2"in LDATA._e){LDATA.engines[2]=LDATA._e[2];var c=DOC.getElementsByTagName("HEAD")[0];processNodeWithEngine(c,c,{},"2",a.new_content),delete LDATA.engines[2]}if(b&&"5"in LDATA._e){LDATA.engines[5]=LDATA._e[5];for(var d=[],e=DOC.getElementsByTagName("LINK"),f=0;f<e.length;f++)e[f].attributes["bablic-exclude"]||e[f].attributes["data-bablic-exclude"]||d.push(e[f]);for(var f=0;f<d.length;f++)processNodeWithEngine(d[f],d[f],{},"5",a.new_content);d=[],e=DOC.getElementsByTagName("STYLE");for(var f=0;f<e.length;f++)e[f].attributes["bablic-exclude"]||e[f].attributes["data-bablic-exclude"]||d.push(e[f]);for(var f=0;f<d.length;f++)processNodeWithEngine(d[f],d[f],{},"5",a.new_content);delete LDATA.engines[5]}},!a.Site&&a.Account&&(a.Site=a.Account),a.locale||(a.locale=LocalDB.getSync("locale",!0)),a.original=LocalDB.getSync("original",!0)||a.original;var S;siteConfReceived=function(b){var c=LDATA&&LDATA.content,d=LDATA&&LDATA.locale;LDATA=b,LDATA.locale==d&&(LDATA.content=c),a.localeURL&&(LDATA.localeDetection=a.localeURL);var e=Number(LocalDB.getSync("block",!0));if(e&&LDATA.timestamp<=e&&(S=!0),!S){if(LDATA.localeKeys=$.map(LDATA.locales,function(a){return a.key}),o(),n(),LDATA.exclude&&excludeByCode(LDATA.exclude),LDATA.include&&includeByCode(LDATA.include),LDATA.markup)for(var f in LDATA.markup){var g=LDATA.markup[f];$.isArray(g)||(g=[g]);for(var h=0;h<g.length;h++)addMarkupByCode(f,g[h].sel,g[h].val)}a.new_content=a.new_content||{},a.usage_report=a.usage_report||{}}},translationReceived=function(b,c){if(LDATA&&!S&&DOC.body){if(LDATA.content=b,v(LDATA),!$.isEmptyObject(LDATA.engines)&&!c){if(!c){a._processed=!0;var d=savedContentNodes;savedContentNodes=[],runHeadEngines(!0),DOC.body.getAttribute("bablic-exclude")||domTraverse($.byTag("html").get(0),a.UseInclude),mergeContentNodes(d),(LDATA.fallback||LDATA.report)&&send_ldata_report(!0),LDATA.usage&&send_usage_report(),R()}a.dontListenToMutations||a.Mutation.listen()}(LDATA.edit||LDATA.suggest)&&addOMGScript()}};var T,U;getPageTranslations=function(b,c){if(a.locale&&a.locale==a.original)return c(null,[]);var d=normalizedCurrentPath(b);return LDATA?LocalDB.getSync("@"+a.locale+"_"+d)!=LDATA.timestamp?t(d,b,c):void r(a.locale,d,function(a,e){return a?t(d,b,c):void c(null,e)}):t(d,b,c)},getConf=function(b,c){var d=LocalDB.getConf();d&&(d=decodeConf(d),d&&(a.locale=d.locale=a.detectLocale(d)));var e=d&&(d.orig==a.locale||LocalDB.getSync("global"+a.locale)==d.timestamp);return e?(b==fetchRevision&&siteConfReceived(d),d.orig==a.locale?c(null,{}):void r(a.locale,"*",function(a,d){return a?u(b,c):void c(null,d)})):u(b,c)},fetchSequence=function(b,c){var d=Date.now(),e={};parallel([function(c){getConf(b,function(b,f){e.confTime=Date.now()-d,triggerEvent("local",a.locale),c(b,f)})},function(a){getPageTranslations(!1,function(b,c){e.translationTime=Date.now()-d,a(b,c)})}],function(a,b){if(a)return c(a);var d=b[0],f=b[1];if(!d&&!f)return c(null,e);var g=$.extend({},d||{},f||{});c(null,e,g)})},ping=function(b){var c=b.err,d=b.shouldHide,e=b.stats,g=b.detectedLocale,h=b.path,i=b.nonBlocking;ajaxPost("/api/engine/ping",encodePing({timestamp:LDATA&&Math.round(LDATA.timestamp/1e3),snippetTimestamp:a.snippetTimestamp,error:c,locale:a.locale,original:a.original,didHide:d,confTime:e&&e.confTime,translationTime:e&&e.translationTime,hiddenTime:T,detected:detectBrowserLocale(),page:pageUri(),detectedLocale:g,hasLocalStorage:!!WIN.localStorage,hasIndexDB:!!WIN.indexedDB,path:h,nonBlocking:i,version:a.version,parseVersion:a.parseVersion}),function(b){if(b.locale&&a.locale!=b.locale&&(b.clear=!0),b.locale&&(a.locale=b.locale),b.error&&4e3==b.error&&(hideWidget(),b.owner&&a.data&&a.data.timestamp&&Date.now()-1e3*a.data.timestamp<x)){var c=LocalDB.getSync("turnedOff",!0);if(c)return;f()}if(LDATA){if(b.machine&&(LDATA.machine=!0),b.owner&&(LDATA.owner=b.owner),(b.clear||b.error)&&(turnOffCDN(),LocalDB.clearAll(function(){if(!b.error){b.report&&(LDATA.report=!0),b.usage&&(LDATA.usage=!0);var c=++fetchRevision;fetchSequence(c,function(b,d,e){b&&a.error("Error fetching 2nd time",b),e&&c==fetchRevision&&translationReceived(e)})}})),b.block){LDATA.timestamp=b.block;var d=encodeConf(LDATA);LocalDB.setConf(d),LocalDB.setSync("block",b.block,!0),a.locale!=a.original&&a.redirectTo(a.original),LDATA&&LDATA.widget&&(LDATA.widget[0]&&(LDATA.widget[0].show=!1),LDATA.widget[1]&&(LDATA.widget[1].show=!1)),hideWidget()}else LocalDB.clearSync("block");b.report&&(LDATA.report=!0,send_ldata_report(!0)),b.usage&&(LDATA.usage=!0,send_usage_report())}},!0)},a.start=function(){if(DOC.getElementsByTagName("HEAD")[0]&&DOC.getElementsByTagName("HEAD")[0].attributes["bablic-status"])return a.Mutation.listen(),(LDATA.edit||LDATA.suggest)&&addOMGScript(),void triggerEvent("done");var b=a.detectLocale();a.detectedLocale=b;var c=!!DOC.body;a.locale=b||a.locale;var d=!(a.dontHide||c||a.locale&&a.original&&a.locale[0]==a.original[0]&&a.locale[1]==a.original[1]);a.loaded=!0,d&&l();var e=++fetchRevision;if(fetchSequence(e,function(f,g,h){m(function(){if(h&&e==fetchRevision){var i=Date.now();translationReceived(h),a.log("process time",Date.now()-i)}if(d&&R(),f&&a.error(f),a.setMutationListen(!1),triggerEvent("done"),$.byTag("head").attr("bablic-status","loaded"),!WIN.JSON||!JSON.stringify||!JSON.parse){var j=DOC.createElement("script");j.type="text/javascript",j.async=!0,j.src=("https:"==DOC.location.protocol?"https://":"http://")+CDN_PATH+"/js/json.min.js";var k=DOC.getElementsByTagName("script")[0];k.parentNode.insertBefore(j,k)}a.setMutationListen(!0),a.locales&&(!WIN.parent||WIN.parent==WIN||!WIN.parent.bablic||WIN.parent.bablic.isAdmin)&&LDATA.widget&&LDATA.widget[0]&&LDATA.widget[0].show&&setInterval(function(){$.byId("bablicFlagsWidget").length()||a.showFlags()},1e3),C||setTimeout(q,1e3);var l=normalizedCurrentPath();a.log("hidden time "+T),g&&(a.log("conf time "+g.confTime),a.log("translation time "+g.translationTime)),ping({err:f,shouldHide:d,stats:g,detectedLocale:b,path:l,nonBlocking:c})})}),d&&setTimeout(function(){R()},4e3),a.registerKey&&a.registerKey(),window.history&&window.history.pushState){var f=function(){var b=LDATA.content,c=LDATA.locale,d=++fetchRevision;fetchSequence(d,function(e,f,g){if(g&&d==fetchRevision){for(var h in g)h in b&&"__empty__"!=b[h]||(b[h]=g[h]);if(c==LDATA.locale){LDATA.content=b;var i=savedContentNodes;savedContentNodes=[],domTraverse($.byTag("html").get(0),a.UseInclude),mergeContentNodes(i),ping({})}}})},g=history.pushState,h=history.replaceState;a.pushState=g.bind(history),a.replaceState=h.bind(history);try{history.pushState=function(){var a=normalizedCurrentPath(),b=g.apply(history,arguments),c=normalizedCurrentPath();if(a==c)return b;var d=arguments[2];return"string"==typeof d&&f(),b},history.replaceState=function(){var a=normalizedCurrentPath(),b=h.apply(history,arguments),c=normalizedCurrentPath();if(a==c)return b;var d=arguments[2];return"string"==typeof d&&f(),b}}catch(i){}}},parallel=function(a,b){for(var c=a.length,d=new Array(a.length),e=0;e<a.length;e++)!function(e){a[e](function(a,f){return a?(b&&b(a),void(b=null)):(d[e]=f,void(0===--c&&(b&&b(null,d),b=null)))})}(e)},parallelEach=function(a,b,c){return parallel($.map(a,function(a){return function(c){b(a,c)}}),c)};var V=/Google\s+Imagery/i;m(function(){window.Localize&&w(),window.google&&window.google.translate&&delete window.google.translate,$.byClass("goog-te-gadget").remove()})}(bablic),bablic.Site&&!bablic.loaded&&bablic.start(),triggerEvent("load")}}();